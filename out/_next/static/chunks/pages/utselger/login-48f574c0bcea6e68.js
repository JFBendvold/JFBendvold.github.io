(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[488],{6386:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/utselger/login",function(){return t(9878)}])},9878:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return p}});var o=t(5893),i=t(8223),s=t.n(i),a=t(1664),l=t.n(a),r=t(5675),c=t.n(r),g=t(7294),h=t(4053),d=t(7662),u=t(9159);function p(){let e=(0,h.useSupabaseClient)(),[n,t]=(0,g.useState)(!1),[i,a]=(0,g.useState)(!1),[r,p]=(0,g.useState)("");async function _(){if(t(!0),""===r){(0,d.H3)("E-posten kan ikke v\xe6re tom"),t(!1);return}if(!r.includes("@")||!r.includes(".")||r.length<5){(0,d.H3)("E-posten er ikke gyldig"),t(!1);return}let{data:n,error:o}=await e.auth.signInWithOtp({email:r,options:{emailRedirectTo:"http://localhost:3000//utselger",shouldCreateUser:!0}});o?(0,d.H3)(o.message):((0,d.kl)("Velykket","Vi har sendt en e-post til deg med innloggingsinformasjon"),a(!0)),t(!1)}async function m(){t(!0);let{user:n,session:o,error:i}=await e.auth.signInWithOAuth({provider:"google",options:{queryParams:{access_type:"offline",prompt:"consent"},redirectTo:"http://localhost:3000//utselger/dashboard"}});i&&((0,d.H3)(i.message),t(!1))}async function f(){t(!0);let{user:n,session:o,error:i}=await e.auth.signInWithOAuth({provider:"facebook",options:{redirectTo:"http://localhost:3000//utselger/dashboard"}});i&&((0,d.H3)(i.message),t(!1))}return(0,g.useEffect)(()=>{e.auth.getUser().then(e=>{console.log(e.data.user)}).catch(e=>{console.log(e)})},[e]),(0,o.jsxs)("main",{className:s().main,children:[(0,o.jsxs)("header",{className:s().header,children:[(0,o.jsx)(l(),{href:"/",className:s().logo,children:(0,o.jsx)(c(),{src:"/icons/Logo.svg",alt:"Logo",width:98,height:98,priority:!0})}),(0,o.jsx)(l(),{href:"/utselger",children:"G\xe5 tilbake"})]}),!i&&(0,o.jsxs)("div",{className:s().content,children:[(0,o.jsx)("h1",{children:"Logg inn"}),(0,o.jsxs)("div",{className:s().inputContainer,children:[(0,o.jsx)("label",{htmlFor:"email",children:"E-post"}),(0,o.jsx)("input",{type:"email",id:"email",value:r,onChange:e=>p(e.target.value),placeholder:"E-post"})]}),(0,o.jsx)("div",{className:s().buttonContainer,children:(0,o.jsx)("button",{onClick:_,children:"Logg inn"})}),(0,o.jsx)("div",{className:s().buttonContainer,children:(0,o.jsxs)("button",{onClick:f,className:s().facebook,children:["Logg inn med Facebook",(0,o.jsx)(c(),{src:"/icons/login/facebook.svg",alt:"Facebook",width:20,height:20})]})}),(0,o.jsx)("div",{className:s().buttonContainer,children:(0,o.jsxs)("button",{onClick:m,className:s().google,children:["Logg inn med Google",(0,o.jsx)(c(),{src:"/icons/login/Google_logo.svg",alt:"Google",width:20,height:20})]})})]}),i&&(0,o.jsxs)("div",{className:s().content,children:[(0,o.jsx)("h1",{children:"E-post sendt"}),(0,o.jsx)("p",{children:"Vi har sendt en e-post til deg med innloggingsinformasjon."}),(0,o.jsx)("p",{children:"Hvis du ikke har mottatt e-posten, sjekk spam-mappen din."})]}),(0,o.jsx)(u.Z,{spinning:n,fullscreen:!0})]})}},8223:function(e){e.exports={main:"login_main__8ETfk",header:"login_header__gK_wn",content:"login_content__1Bixz",inputContainer:"login_inputContainer__FdOj_",buttonContainer:"login_buttonContainer__T3iu2",facebook:"login_facebook__W_i3p",google:"login_google__EsSTR"}}},function(e){e.O(0,[61,159,888,774,179],function(){return e(e.s=6386)}),_N_E=e.O()}]);