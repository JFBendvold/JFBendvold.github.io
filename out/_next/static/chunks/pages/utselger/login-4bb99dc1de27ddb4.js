(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[488],{6386:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/utselger/login",function(){return t(9878)}])},9878:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return p}});var i=t(5893),s=t(8223),o=t.n(s),r=t(1664),a=t.n(r),l=t(5675),c=t.n(l),u=t(7294),d=t(4053),h=t(2865),g=t(1053);function p(){let n=(0,d.useSupabaseClient)(),[e,t]=(0,u.useState)(!1),[s,r]=(0,u.useState)(!1),[l,p]=(0,u.useState)("");async function _(){if(t(!0),""===l){(0,h.H3)("E-posten kan ikke v\xe6re tom"),t(!1);return}if(!l.includes("@")||!l.includes(".")||l.length<5){(0,h.H3)("E-posten er ikke gyldig"),t(!1);return}let{data:e,error:i}=await n.auth.signInWithOtp({email:l,options:{emailRedirectTo:"http://localhost:3000//utselger",shouldCreateUser:!0}});i?(0,h.H3)(i.message):((0,h.kl)("Velykket","Vi har sendt en e-post til deg med innloggingsinformasjon"),r(!0)),t(!1)}return(0,u.useEffect)(()=>{n.auth.getUser().then(n=>{console.log(n.data.user)}).catch(n=>{console.log(n)})},[n]),(0,i.jsxs)("main",{className:o().main,children:[(0,i.jsxs)("header",{className:o().header,children:[(0,i.jsx)(a(),{href:"/",className:o().logo,children:(0,i.jsx)(c(),{src:"/icons/Logo.svg",alt:"Logo",width:98,height:98,priority:!0})}),(0,i.jsx)(a(),{href:"/utselger",children:"G\xe5 tilbake"})]}),!s&&(0,i.jsxs)("div",{className:o().content,children:[(0,i.jsx)("h1",{children:"Logg inn"}),(0,i.jsxs)("div",{className:o().inputContainer,children:[(0,i.jsx)("label",{htmlFor:"email",children:"E-post"}),(0,i.jsx)("input",{type:"email",id:"email",value:l,onChange:n=>p(n.target.value),placeholder:"E-post"})]}),(0,i.jsx)("div",{className:o().buttonContainer,children:(0,i.jsx)("button",{onClick:_,children:"Logg inn"})})]}),s&&(0,i.jsxs)("div",{className:o().content,children:[(0,i.jsx)("h1",{children:"E-post sendt"}),(0,i.jsx)("p",{children:"Vi har sendt en e-post til deg med innloggingsinformasjon."}),(0,i.jsx)("p",{children:"Hvis du ikke har mottatt e-posten, sjekk spam-mappen din."})]}),(0,i.jsx)(g.Z,{spinning:e,fullscreen:!0})]})}},2865:function(n,e,t){"use strict";t.d(e,{H3:function(){return s},kl:function(){return o}});var i=t(305);let s=(n,e)=>{i.ZP.error({message:n,description:e,duration:2})},o=(n,e)=>{i.ZP.success({message:n,description:e,duration:2})}},8223:function(n){n.exports={main:"login_main__8ETfk",header:"login_header__gK_wn",content:"login_content__1Bixz",inputContainer:"login_inputContainer__FdOj_",buttonContainer:"login_buttonContainer__T3iu2"}}},function(n){n.O(0,[61,328,888,774,179],function(){return n(n.s=6386)}),_N_E=n.O()}]);