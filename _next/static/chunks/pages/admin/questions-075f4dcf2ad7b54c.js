(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[566],{37880:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/questions",function(){return s(36787)}])},36787:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return Questions}});var n=s(85893),a=s(67294),r=s(9199),o=s.n(r),u=s(92894),l=s(64749),i=s(52200),c=s(11163),d=s(59498);let _=(0,d.U)("/categories");async function getAllCategories(){try{let e=await _.get("/all");return e}catch(e){return e.response}}let f=(0,d.U)("/questions");async function addQuestion(e){try{let t=await f.post("/addQuestion",e);return t}catch(e){return e.response}}var g=s(69143),h=s(93040);function Questions(){let[e,t]=(0,a.useState)({}),[s,r]=(0,a.useState)("#FF70A6"),[d,_]=(0,a.useState)(""),[f,p]=(0,a.useState)([]),[w,m]=(0,a.useState)(""),[E,x]=(0,a.useState)(""),[y,q]=(0,a.useState)(""),[N,C]=(0,a.useState)(""),[b,j]=(0,a.useState)(""),[S,v]=(0,a.useState)(0),[H,P]=(0,a.useState)(""),[k,F]=(0,a.useState)(0),A=(0,c.useRouter)(),Q=(0,a.useRef)(null);return(0,a.useLayoutEffect)(()=>{let e=localStorage.getItem("user");e?t(JSON.parse(e)):console.error("No user found in local storage"),getAllCategories().then(e=>{200===e.status?(console.log(e.data),p(e.data)):console.error("Error getting categories")})},[]),(0,a.useEffect)(()=>{e&&e.style&&(r(e.style),document.body.style.background="".concat(e.style))},[e]),(0,n.jsxs)("main",{className:o().main,ref:Q,children:[(0,n.jsx)(u.Z,{}),(0,n.jsxs)("div",{className:o().content,children:[(0,n.jsx)("h1",{className:o().title,children:"Add new question"}),(0,n.jsxs)("div",{className:o().selectContainer,children:[(0,n.jsx)(l.Z,{className:o().select,bordered:!1,onChange:function(e){console.log("selected ".concat(e)),m(e)},options:f.map(e=>({value:e._id,label:e.name}))}),(0,n.jsx)(l.Z,{defaultValue:0,className:o().select,bordered:!1,onChange:function(e){console.log("selected ".concat(e)),F(e)},options:[{value:0,label:"Easy"},{value:1,label:"Medium"},{value:2,label:"Hard"}]})]}),(0,n.jsx)("input",{type:"text",className:o().question,placeholder:"Enter your question",onChange:e=>_(e.target.value)}),(0,n.jsxs)("div",{className:o().answers,children:[(0,n.jsx)("input",{type:"text",className:o().answer,placeholder:"Enter answer 1 (correct answer)",onChange:e=>x(e.target.value)}),(0,n.jsx)("input",{type:"text",className:o().answer,placeholder:"Enter answer 2",onChange:e=>q(e.target.value)}),(0,n.jsx)("input",{type:"text",className:o().answer,placeholder:"Enter answer 3",onChange:e=>C(e.target.value)}),(0,n.jsx)("input",{type:"text",className:o().answer,placeholder:"Enter answer 4",onChange:e=>j(e.target.value)})]}),(0,n.jsx)("input",{type:"text",className:o().funFact,placeholder:"Enter fun-fact",onChange:e=>P(e.target.value)}),(0,n.jsx)("button",{className:o().submit,onClick:function(){if(""===d){(0,i.H3)("Error","Please enter a question");return}if(""===E){(0,i.H3)("Error","Please enter answer 1");return}if(""===y){(0,i.H3)("Error","Please enter answer 2");return}if(""===N){(0,i.H3)("Error","Please enter answer 3");return}if(""===b){(0,i.H3)("Error","Please enter answer 4");return}if(""===H){(0,i.H3)("Error","Please enter a fun-fact");return}if(""===w){(0,i.H3)("Error","Please select a category");return}if(""===k){(0,i.H3)("Error","Please select a difficulty");return}let e={question:d,answers:[E,y,N,b],correctAnswer:S,funFact:H,category:w,difficulty:k};console.log(e),(0,g.C)(),addQuestion(e).then(e=>{200===e.status?(console.log(e.data),(0,i.kl)("Success","Question added successfully"),(0,g.n)(),A.push("/dashboard")):(console.error("Error adding question"),(0,i.H3)("Error","Error adding question"),(0,g.n)())})},children:"Submit"})]}),(0,n.jsx)(h.Z,{})]})}},9199:function(e){e.exports={main:"questions_main__57VtJ",content:"questions_content__F6YUx",slidein:"questions_slidein__azeAl",title:"questions_title__NX9XB",selectContainer:"questions_selectContainer__YhtKr",select:"questions_select__768yJ",question:"questions_question__n3_xV",submit:"questions_submit__4nKRW",answers:"questions_answers__ZyWRG",answer:"questions_answer__efe_c",funFact:"questions_funFact__Ggmwu"}}},function(e){e.O(0,[664,209,675,318,227,749,260,774,888,179],function(){return e(e.s=37880)}),_N_E=e.O()}]);