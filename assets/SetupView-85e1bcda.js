import{o as t,c as o,b as l,F as f,i as y,r as _,x as c,p as h,$ as S,u as w,a0 as C,t as b,_ as N,h as E,e as V,f as q,y as m,z as g}from"./index-2e410ad1.js";import{_ as F}from"./SetupGroup-f99366f6.js";const M=l("h1",null," Velkommen til SmartMat! ",-1),A=l("p",null,[y(" Vi skal hjelpe deg med å sette opp din profil. "),l("br"),y("Dette gjør vi for å kunne gi deg en best mulig opplevelse med SmartMat. ")],-1),D={__name:"SetupWelcome",emits:["nextStep"],setup(k,{emit:a}){function e(){a("nextStep")}return(s,i)=>(t(),o(f,null,[M,A,l("button",{onClick:e},"Neste")],64))}},B={key:0},J={key:1},P={key:2,class:"button-row"},H={key:3,class:"button-row"},L={__name:"SetupAllergies",emits:["nextStep"],setup(k,{emit:a}){let e=[{text:"Er du allergisk mot laktose?",answer:!1,allergy_name:["Melk"]},{text:"Er du allergisk mot gluten?",answer:!1,allergy_name:["Gluten"]},{text:"Er du allergisk mot nøtter?",answer:!1,allergy_name:["Nøtter","Peanøtter"]},{text:"Er du allergisk mot egg?",answer:!1,allergy_name:["Egg"]},{text:"Er du allergisk mot skalldyr?",answer:!1,allergy_name:["Skalldyr"]},{text:"Er du allergisk mot fisk?",answer:!1,allergy_name:["Fisk"]}],s=_(0),i=_(e[s.value].text),r=_(!1);async function p(d){e[s.value].answer=d;try{const n=w().getUsername;for(let u=0;u<e[s.value].allergy_name.length;u++){let v={username:n,allergyName:e[s.value].allergy_name[u]};console.log(v);try{const $=await C(v);b("Allergi registrert:"+e[s.value].allergy_name[u])}catch{b("Allergi allerede registrert")}}}catch(n){console.log("Error"+n)}s.value++,s.value<e.length?i.value=e[s.value].text:(console.log(e),a("nextStep"))}function x(){a("nextStep")}return(d,n)=>(t(),o(f,null,[c(r)?(t(),o("h1",J,h(c(i)),1)):(t(),o("h1",B," Har du noen allergier? ")),c(r)?(t(),o("div",H,[l("button",{class:"setup__button",onClick:n[1]||(n[1]=u=>p(!1))},"Nei"),l("button",{class:"setup__button",onClick:n[2]||(n[2]=u=>p(!0))},"Ja")])):(t(),o("div",P,[l("button",{class:"setup__button",onClick:x},"Nei"),l("button",{class:"setup__button",onClick:n[0]||(n[0]=u=>S(r)?r.value=!0:r=!0)},"Ja")]))],64))}},R={key:0},T={key:1},U={key:2,class:"button-row"},j={key:3,class:"button-row"},Q={__name:"SetupPreferences",emits:["nextStep"],setup(k,{emit:a}){let e=[{text:"Spiser du bare halal?",answer:!1,allergy_name:["Alcohol","Pork"]},{text:"Er du vegetarianer?",answer:!1,allergy_name:["Meat","Fish","Chicken"]},{text:"Er du veganer?",answer:!1,allergy_name:["Meat","Fish","Chicken","Lactose","Eggs","Honey"]}],s=_(0),i=_(e[s.value].text),r=_(!1);function p(d){e[s.value].answer=d,s.value++,s.value<e.length?i.value=e[s.value].text:(console.log(e),a("nextStep"))}function x(){a("nextStep")}return(d,n)=>(t(),o(f,null,[c(r)?(t(),o("h1",T,h(c(i)),1)):(t(),o("h1",R," Har du noen andre matpreferanser? ")),c(r)?(t(),o("div",j,[l("button",{class:"setup__button",onClick:n[1]||(n[1]=u=>p(!1))},"Nei"),l("button",{class:"setup__button",onClick:n[2]||(n[2]=u=>p(!0))},"Ja")])):(t(),o("div",U,[l("button",{class:"setup__button",onClick:x},"Nei"),l("button",{class:"setup__button",onClick:n[0]||(n[0]=u=>S(r)?r.value=!0:r=!0)},"Ja")]))],64))}},z={},G=l("h1",null," Da er du ferdig med oppsettet! ",-1),I=l("p",null," Du kan nå begynne å bruke SmartMat. ",-1),W=l("p",null,' Du kan endre innstillingene dine når som helst ved å trykke på "Innstillinger" i profilen din. ',-1),K=l("button",{class:"button"}," Fortsett ",-1);function O(k,a){const e=E("RouterLink");return t(),o(f,null,[G,I,W,V(e,{to:"/"},{default:q(()=>[K]),_:1})],64)}const X=N(z,[["render",O]]),Y={class:"setup"},te={__name:"SetupView",setup(k){const a=_(0);function e(){a.value++}return(s,i)=>(t(),o("main",Y,[a.value===0?(t(),m(D,{key:0,onNextStep:e})):g("",!0),a.value===1?(t(),m(L,{key:1,onNextStep:e})):g("",!0),a.value===2?(t(),m(Q,{key:2,onNextStep:e})):g("",!0),a.value===3?(t(),m(F,{key:3,onNextStep:e})):g("",!0),a.value===4?(t(),m(X,{key:4})):g("",!0)]))}};export{te as default};
