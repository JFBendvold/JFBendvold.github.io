import{r as d,o as n,c as r,x as l,d as k,v as m,b as o,F as h,t as a,a7 as j,a as c,u as y,a8 as f}from"./index-689421b9.js";const x={key:0},U={key:1},w={key:2},G={key:3},S=o("p",null," På SmartMat kan du være med i et kjøleskap med andre, eller opprette ditt eget kjøleskap. ",-1),C=o("p",null," I et kjøleskap kan du dele produkter, oppskrifter og handlelister med andre. Dere vil også måle hvor mye mat dere kaster, og få tips til hvordan dere kan redusere matsvinnet. ",-1),B=[S,C],D={key:4},N={key:5,class:"column"},V={key:6,class:"button-row"},K={key:7,class:"button-row"},E={__name:"SetupGroup",emits:["nextStep"],setup(T,{emit:_}){const e=d(null),s=d(null),u=d(null);function v(){_("nextStep")}async function g(){if(s.value===null){a("Du må skrive inn en kode");return}else if(s.value.length!==6){a("Koden må være 6 tegn lang");return}try{await j(s.value),await c().setUserGroup(y().getUsername)}catch(p){a(p);return}a("Blir med i gruppe med kode "+s.value),v()}async function b(){if(u.value===null){a("Du må skrive inn et navn");return}else if(u.value.length<3){a("Navnet må være minst 3 tegn langt");return}try{await f(u.value),await c().setUserGroup(y().getUsername)}catch(p){a(p);return}a("Oppretter gruppe med navn "+u.value),v()}return(p,t)=>(n(),r(h,null,[e.value===null?(n(),r("h1",x," Ønsker du å være med i et kjøleskap, eller opprette ditt eget? ")):l("",!0),e.value==="join"?(n(),r("h1",U," Skriv inn kjøleskapskoden ")):l("",!0),e.value==="create"?(n(),r("h1",w," Hva skal kjøleskapet hete? ")):l("",!0),e.value===null?(n(),r("div",G,B)):l("",!0),e.value==="join"?(n(),r("div",D,[k(o("input",{type:"text",placeholder:"Kjøleskapskode","onUpdate:modelValue":t[0]||(t[0]=i=>s.value=i)},null,512),[[m,s.value]]),o("button",{class:"button button--primary",onClick:g},"Bli med")])):l("",!0),e.value==="create"?(n(),r("div",N,[k(o("input",{type:"text",placeholder:"Kjøleskapsnavn","onUpdate:modelValue":t[1]||(t[1]=i=>u.value=i),style:{"margin-bottom":"1rem"}},null,512),[[m,u.value]]),o("button",{class:"button button--primary",onClick:b},"Lag kjøleskap")])):l("",!0),e.value===null?(n(),r("div",V,[o("button",{class:"button button--primary",onClick:t[2]||(t[2]=i=>e.value="join")},"Bli med"),o("button",{class:"button button--secondary",onClick:t[3]||(t[3]=i=>e.value="create")},"Opprett nytt")])):l("",!0),e.value!==null?(n(),r("div",K,[o("p",{class:"button-secondary",onClick:t[4]||(t[4]=i=>e.value=null)},"Tilbake")])):l("",!0)],64))}};export{E as _};
