import{k as Ae,l as Oe,r as ie,m as we,n as Re,o as ue,c as fe,b as $,p as _e,F as Te,g as Se,q as De,x as de,d as Ce,v as Ee,s as Me,t as he,j as ye,a as Pe,e as xe,f as Ne,y as me,z as pe,h as ze,A as Ie,B as ke}from"./index-2e410ad1.js";import{f as je,e as Le,a as Ue,b as Fe,_ as Be}from"./ProductSearch-5d210b33.js";var be={},We={get exports(){return be},set exports(ce){be=ce}};(function(ce,re){(function(ne,p){ce.exports=p(p.toString()).default})(Ae,function(ne){return function(p){function _(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return p[e].call(s.exports,s,s.exports,_),s.l=!0,s.exports}var a={};return _.m=p,_.c=a,_.i=function(e){return e},_.d=function(e,s,c){_.o(e,s)||Object.defineProperty(e,s,{configurable:!1,enumerable:!0,get:c})},_.n=function(e){var s=e&&e.__esModule?function(){return e.default}:function(){return e};return _.d(s,"a",s),s},_.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)},_.p="/",_(_.s=166)}([function(p,_){function a(e){var s=typeof e;return e!=null&&(s=="object"||s=="function")}p.exports=a},function(p,_,a){function e(c,i){return this._row=[],this.config=c||{},this.supplements=i,this}var s=a(3);e.prototype._nextUnset=function(c,i){var n;for(i===void 0&&(i=0),n=i;n<c.length;n++)if(!c[n])return n;return c.length},e.prototype._matchPattern=function(c,i,n){var r,t,o,u,f=0,l=0,d=0,h=0;for(n=n||this.SINGLE_CODE_ERROR||1,r=0;r<c.length;r++)d+=c[r],h+=i[r];if(d<h)return Number.MAX_VALUE;for(t=d/h,n*=t,r=0;r<c.length;r++){if(o=c[r],u=i[r]*t,(l=Math.abs(o-u)/u)>n)return Number.MAX_VALUE;f+=l}return f/h},e.prototype._nextSet=function(c,i){var n;for(i=i||0,n=i;n<c.length;n++)if(c[n])return n;return c.length},e.prototype._correctBars=function(c,i,n){for(var r=n.length,t=0;r--;)(t=c[n[r]]*(1-(1-i)/2))>1&&(c[n[r]]=t)},e.prototype._matchTrace=function(c,i){var n,r,t=[],o=this,u=o._nextSet(o._row),f=!o._row[u],l=0,d={error:Number.MAX_VALUE,code:-1,start:0};if(c){for(n=0;n<c.length;n++)t.push(0);for(n=u;n<o._row.length;n++)if(o._row[n]^f)t[l]++;else{if(l===t.length-1)return r=o._matchPattern(t,c),r<i?(d.start=n-u,d.end=n,d.counter=t,d):null;l++,t[l]=1,f=!f}}else for(t.push(0),n=u;n<o._row.length;n++)o._row[n]^f?t[l]++:(l++,t.push(0),t[l]=1,f=!f);return d.start=u,d.end=o._row.length-1,d.counter=t,d},e.prototype.decodePattern=function(c){var i,n=this;return n._row=c,i=n._decode(),i===null?(n._row.reverse(),(i=n._decode())&&(i.direction=e.DIRECTION.REVERSE,i.start=n._row.length-i.start,i.end=n._row.length-i.end)):i.direction=e.DIRECTION.FORWARD,i&&(i.format=n.FORMAT),i},e.prototype._matchRange=function(c,i,n){var r;for(c=c<0?0:c,r=c;r<i;r++)if(this._row[r]!==n)return!1;return!0},e.prototype._fillCounters=function(c,i,n){var r,t=this,o=0,u=[];for(n=n===void 0||n,c=c!==void 0?c:t._nextUnset(t._row),i=i||t._row.length,u[o]=0,r=c;r<i;r++)t._row[r]^n?u[o]++:(o++,u[o]=1,n=!n);return u},e.prototype._toCounters=function(c,i){var n,r=this,t=i.length,o=r._row.length,u=!r._row[c],f=0;for(s.a.init(i,0),n=c;n<o;n++)if(r._row[n]^u)i[f]++;else{if(++f===t)break;i[f]=1,u=!u}return i},Object.defineProperty(e.prototype,"FORMAT",{value:"unknown",writeable:!1}),e.DIRECTION={FORWARD:1,REVERSE:-1},e.Exception={StartNotFoundException:"Start-Info was not found!",CodeNotFoundException:"Code could not be found!",PatternNotFoundException:"Pattern could not be found!"},e.CONFIG_KEYS={},_.a=e},function(p,_){var a=Array.isArray;p.exports=a},function(p,_,a){_.a={init:function(e,s){for(var c=e.length;c--;)e[c]=s},shuffle:function(e){var s,c,i=e.length-1;for(i;i>=0;i--)s=Math.floor(Math.random()*i),c=e[i],e[i]=e[s],e[s]=c;return e},toPointList:function(e){var s,c,i=[],n=[];for(s=0;s<e.length;s++){for(i=[],c=0;c<e[s].length;c++)i[c]=e[s][c];n[s]="["+i.join(",")+"]"}return"["+n.join(`,\r
`)+"]"},threshold:function(e,s,c){var i,n=[];for(i=0;i<e.length;i++)c.apply(e,[e[i]])>=s&&n.push(e[i]);return n},maxIndex:function(e){var s,c=0;for(s=0;s<e.length;s++)e[s]>e[c]&&(c=s);return c},max:function(s){var c,i=0;for(c=0;c<s.length;c++)s[c]>i&&(i=s[c]);return i},sum:function(s){for(var c=s.length,i=0;c--;)i+=s[c];return i}}},function(p,_,a){function e(o,u){o=i()(s(),o),n.a.call(this,o,u)}function s(){var o={};return Object.keys(e.CONFIG_KEYS).forEach(function(u){o[u]=e.CONFIG_KEYS[u].default}),o}var c=a(28),i=a.n(c),n=a(1),r=Object.assign||function(o){for(var u=1;u<arguments.length;u++){var f=arguments[u];for(var l in f)Object.prototype.hasOwnProperty.call(f,l)&&(o[l]=f[l])}return o},t={CODE_L_START:{value:0},CODE_G_START:{value:10},START_PATTERN:{value:[1,1,1]},STOP_PATTERN:{value:[1,1,1]},MIDDLE_PATTERN:{value:[1,1,1,1,1]},EXTENSION_START_PATTERN:{value:[1,1,2]},CODE_PATTERN:{value:[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2],[1,1,2,3],[1,2,2,2],[2,2,1,2],[1,1,4,1],[2,3,1,1],[1,3,2,1],[4,1,1,1],[2,1,3,1],[3,1,2,1],[2,1,1,3]]},CODE_FREQUENCY:{value:[0,11,13,14,19,25,28,21,22,26]},SINGLE_CODE_ERROR:{value:.7},AVG_CODE_ERROR:{value:.48},FORMAT:{value:"ean_13",writeable:!1}};e.prototype=Object.create(n.a.prototype,t),e.prototype.constructor=e,e.prototype._decodeCode=function(o,u){var f,l,d,h=[0,0,0,0],v=this,g=o,b=!v._row[g],y=0,x={error:Number.MAX_VALUE,code:-1,start:o,end:o};for(u||(u=v.CODE_PATTERN.length),f=g;f<v._row.length;f++)if(v._row[f]^b)h[y]++;else{if(y===h.length-1){for(l=0;l<u;l++)(d=v._matchPattern(h,v.CODE_PATTERN[l]))<x.error&&(x.code=l,x.error=d);return x.end=f,x.error>v.AVG_CODE_ERROR?null:x}y++,h[y]=1,b=!b}return null},e.prototype._findPattern=function(o,u,f,l,d){var h,v,g,b,y=[],x=this,C=0,O={error:Number.MAX_VALUE,code:-1,start:0,end:0};for(u||(u=x._nextSet(x._row)),f===void 0&&(f=!1),l===void 0&&(l=!0),d===void 0&&(d=x.AVG_CODE_ERROR),h=0;h<o.length;h++)y[h]=0;for(h=u;h<x._row.length;h++)if(x._row[h]^f)y[C]++;else{if(C===y.length-1){for(b=0,g=0;g<y.length;g++)b+=y[g];if((v=x._matchPattern(y,o))<d)return O.error=v,O.start=h-b,O.end=h,O;if(!l)return null;for(g=0;g<y.length-2;g++)y[g]=y[g+2];y[y.length-2]=0,y[y.length-1]=0,C--}else C++;y[C]=1,f=!f}return null},e.prototype._findStart=function(){for(var o,u,f=this,l=f._nextSet(f._row);!u;){if(!(u=f._findPattern(f.START_PATTERN,l)))return null;if((o=u.start-(u.end-u.start))>=0&&f._matchRange(o,u.start,0))return u;l=u.end,u=null}},e.prototype._verifyTrailingWhitespace=function(o){var u,f=this;return u=o.end+(o.end-o.start),u<f._row.length&&f._matchRange(o.end,u,0)?o:null},e.prototype._findEnd=function(o,u){var f=this,l=f._findPattern(f.STOP_PATTERN,o,u,!1);return l!==null?f._verifyTrailingWhitespace(l):null},e.prototype._calculateFirstDigit=function(o){var u,f=this;for(u=0;u<f.CODE_FREQUENCY.length;u++)if(o===f.CODE_FREQUENCY[u])return u;return null},e.prototype._decodePayload=function(o,u,f){var l,d,h=this,v=0;for(l=0;l<6;l++){if(!(o=h._decodeCode(o.end)))return null;o.code>=h.CODE_G_START?(o.code=o.code-h.CODE_G_START,v|=1<<5-l):v|=0<<5-l,u.push(o.code),f.push(o)}if((d=h._calculateFirstDigit(v))===null||(u.unshift(d),(o=h._findPattern(h.MIDDLE_PATTERN,o.end,!0,!1))===null))return null;for(f.push(o),l=0;l<6;l++){if(!(o=h._decodeCode(o.end,h.CODE_G_START)))return null;f.push(o),u.push(o.code)}return o},e.prototype._decode=function(){var o,u,f=this,l=[],d=[],h={};if(!(o=f._findStart())||(u={code:o.code,start:o.start,end:o.end},d.push(u),!(u=f._decodePayload(u,l,d)))||!(u=f._findEnd(u.end,!1))||(d.push(u),!f._checksum(l)))return null;if(this.supplements.length>0){var v=this._decodeExtensions(u.end);if(!v)return null;var g=v.decodedCodes[v.decodedCodes.length-1],b={start:g.start+((g.end-g.start)/2|0),end:g.end};if(!f._verifyTrailingWhitespace(b))return null;h={supplement:v,code:l.join("")+v.code}}return r({code:l.join(""),start:o.start,end:u.end,codeset:"",startInfo:o,decodedCodes:d},h)},e.prototype._decodeExtensions=function(o){var u,f,l=this._nextSet(this._row,o),d=this._findPattern(this.EXTENSION_START_PATTERN,l,!1,!1);if(d===null)return null;for(u=0;u<this.supplements.length;u++)if((f=this.supplements[u].decode(this._row,d.end))!==null)return{code:f.code,start:l,startInfo:d,end:f.end,codeset:"",decodedCodes:f.decodedCodes};return null},e.prototype._checksum=function(o){var u,f=0;for(u=o.length-2;u>=0;u-=2)f+=o[u];for(f*=3,u=o.length-1;u>=0;u-=2)f+=o[u];return f%10==0},e.CONFIG_KEYS={supplements:{type:"arrayOf(string)",default:[],description:"Allowed extensions to be decoded (2 and/or 5)"}},_.a=e},function(p,_,a){var e=a(38),s=typeof self=="object"&&self&&self.Object===Object&&self,c=e||s||Function("return this")();p.exports=c},function(p,_){function a(e){return e!=null&&typeof e=="object"}p.exports=a},function(p,_){function a(e){var s=new Float32Array(2);return s[0]=e[0],s[1]=e[1],s}p.exports=a},function(p,_,a){function e(o){return o==null?o===void 0?r:n:t&&t in Object(o)?c(o):i(o)}var s=a(11),c=a(119),i=a(146),n="[object Null]",r="[object Undefined]",t=s?s.toStringTag:void 0;p.exports=e},function(p,_,a){_.a={drawRect:function(e,s,c,i){c.strokeStyle=i.color,c.fillStyle=i.color,c.lineWidth=1,c.beginPath(),c.strokeRect(e.x,e.y,s.x,s.y)},drawPath:function(e,s,c,i){c.strokeStyle=i.color,c.fillStyle=i.color,c.lineWidth=i.lineWidth,c.beginPath(),c.moveTo(e[0][s.x],e[0][s.y]);for(var n=1;n<e.length;n++)c.lineTo(e[n][s.x],e[n][s.y]);c.closePath(),c.stroke()},drawImage:function(e,s,c){var i,n=c.getImageData(0,0,s.x,s.y),r=n.data,t=e.length,o=r.length;if(o/t!=4)return!1;for(;t--;)i=e[t],r[--o]=255,r[--o]=i,r[--o]=i,r[--o]=i;return c.putImageData(n,0,0),!0}}},function(p,_,a){function e(t){var o=-1,u=t==null?0:t.length;for(this.clear();++o<u;){var f=t[o];this.set(f[0],f[1])}}var s=a(133),c=a(134),i=a(135),n=a(136),r=a(137);e.prototype.clear=s,e.prototype.delete=c,e.prototype.get=i,e.prototype.has=n,e.prototype.set=r,p.exports=e},function(p,_,a){var e=a(5),s=e.Symbol;p.exports=s},function(p,_,a){function e(c,i){for(var n=c.length;n--;)if(s(c[n][0],i))return n;return-1}var s=a(17);p.exports=e},function(p,_,a){function e(r,t){return s(r)?r:c(r,t)?[r]:i(n(r))}var s=a(2),c=a(130),i=a(154),n=a(165);p.exports=e},function(p,_,a){function e(c,i){var n=c.__data__;return s(i)?n[typeof i=="string"?"string":"hash"]:n.map}var s=a(131);p.exports=e},function(p,_){function a(c,i){return!!(i=i??e)&&(typeof c=="number"||s.test(c))&&c>-1&&c%1==0&&c<i}var e=9007199254740991,s=/^(?:0|[1-9]\d*)$/;p.exports=a},function(p,_,a){var e=a(22),s=e(Object,"create");p.exports=s},function(p,_){function a(e,s){return e===s||e!==e&&s!==s}p.exports=a},function(p,_,a){var e=a(96),s=a(6),c=Object.prototype,i=c.hasOwnProperty,n=c.propertyIsEnumerable,r=e(function(){return arguments}())?e:function(t){return s(t)&&i.call(t,"callee")&&!n.call(t,"callee")};p.exports=r},function(p,_,a){function e(E,m){return{x:E,y:m,toVec2:function(){return C.clone([this.x,this.y])},toVec3:function(){return O.clone([this.x,this.y,1])},round:function(){return this.x=this.x>0?Math.floor(this.x+.5):Math.floor(this.x-.5),this.y=this.y>0?Math.floor(this.y+.5):Math.floor(this.y-.5),this}}}function s(E,m,R){R||(R=E);for(var S=E.data,T=S.length,A=R.data;T--;)A[T]=S[T]<m?1:0}function c(E,m){m||(m=8);for(var R=E.data,S=R.length,T=8-m,A=1<<m,D=new Int32Array(A);S--;)D[R[S]>>T]++;return D}function i(E,m){function R(I,N){var z,F=0;for(z=I;z<=N;z++)F+=A[z];return F}function S(I,N){var z,F=0;for(z=I;z<=N;z++)F+=z*A[z];return F}function T(){var I,N,z,F,te,K,P,j=[0],k=(1<<m)-1;for(A=c(E,m),F=1;F<k;F++)I=R(0,F),N=R(F+1,k),z=I*N,z===0&&(z=1),te=S(0,F)*N,K=S(F+1,k)*I,P=te-K,j[F]=P*P/z;return x.a.maxIndex(j)}m||(m=8);var A,D=8-m;return T()<<D}function n(E,m){var R=i(E);return s(E,R,m),R}function r(E,m,R){function S(z){var F=!1;for(A=0;A<N.length;A++)D=N[A],D.fits(z)&&(D.add(z),F=!0);return F}var T,A,D,I,N=[];for(R||(R="rad"),T=0;T<E.length;T++)I=y.a.createPoint(E[T],T,R),S(I)||N.push(y.a.create(I,m));return N}function t(E,m,R){var S,T,A,D,I=0,N=0,z=[];for(S=0;S<m;S++)z[S]={score:0,item:null};for(S=0;S<E.length;S++)if((T=R.apply(this,[E[S]]))>N)for(A=z[I],A.score=T,A.item=E[S],N=Number.MAX_VALUE,D=0;D<m;D++)z[D].score<N&&(N=z[D].score,I=D);return z}function o(E,m,R){for(var S,T=0,A=m.x,D=Math.floor(E.length/4),I=m.x/2,N=0,z=m.x;A<D;){for(S=0;S<I;S++)R[N]=(.299*E[4*T+0]+.587*E[4*T+1]+.114*E[4*T+2]+(.299*E[4*(T+1)+0]+.587*E[4*(T+1)+1]+.114*E[4*(T+1)+2])+(.299*E[4*A+0]+.587*E[4*A+1]+.114*E[4*A+2])+(.299*E[4*(A+1)+0]+.587*E[4*(A+1)+1]+.114*E[4*(A+1)+2]))/4,N++,T+=2,A+=2;T+=z,A+=z}}function u(E,m,R){var S,T=E.length/4|0;if(R&&R.singleChannel===!0)for(S=0;S<T;S++)m[S]=E[4*S+0];else for(S=0;S<T;S++)m[S]=.299*E[4*S+0]+.587*E[4*S+1]+.114*E[4*S+2]}function f(E,m){for(var R=E.data,S=E.size.x,T=m.data,A=0,D=S,I=R.length,N=S/2,z=0;D<I;){for(var F=0;F<N;F++)T[z]=Math.floor((R[A]+R[A+1]+R[D]+R[D+1])/4),z++,A+=2,D+=2;A+=S,D+=S}}function l(E,m){var R=E[0],S=E[1],T=E[2],A=T*S,D=A*(1-Math.abs(R/60%2-1)),I=T-A,N=0,z=0,F=0;return m=m||[0,0,0],R<60?(N=A,z=D):R<120?(N=D,z=A):R<180?(z=A,F=D):R<240?(z=D,F=A):R<300?(N=D,F=A):R<360&&(N=A,F=D),m[0]=255*(N+I)|0,m[1]=255*(z+I)|0,m[2]=255*(F+I)|0,m}function d(E){var m,R=[],S=[];for(m=1;m<Math.sqrt(E)+1;m++)E%m==0&&(S.push(m),m!==E/m&&R.unshift(Math.floor(E/m)));return S.concat(R)}function h(E,m){for(var R=0,S=0,T=[];R<E.length&&S<m.length;)E[R]===m[S]?(T.push(E[R]),R++,S++):E[R]>m[S]?S++:R++;return T}function v(E,m){function R(P){for(var j=0,k=P[Math.floor(P.length/2)];j<P.length-1&&P[j]<K;)j++;return j>0&&(k=Math.abs(P[j]-K)>Math.abs(P[j-1]-K)?P[j-1]:P[j]),K/k<N[F+1]/N[F]&&K/k>N[F-1]/N[F]?{x:k,y:k}:null}var S,T=d(m.x),A=d(m.y),D=Math.max(m.x,m.y),I=h(T,A),N=[8,10,15,20,32,60,80],z={"x-small":5,small:4,medium:3,large:2,"x-large":1},F=z[E]||z.medium,te=N[F],K=Math.floor(D/te);return S=R(I),S||(S=R(d(D)))||(S=R(d(K*te))),S}function g(E){return{value:parseFloat(E),unit:(E.indexOf("%"),E.length,"%")}}function b(E,m,R){var S={width:E,height:m},T=Object.keys(R).reduce(function(A,D){var I=R[D],N=g(I),z=M[D](N,S);return A[D]=z,A},{});return{sx:T.left,sy:T.top,sw:T.right-T.left,sh:T.bottom-T.top}}var y=a(50),x=a(3);_.b=e,_.f=n,_.g=r,_.h=t,_.c=o,_.d=u,_.i=f,_.a=l,_.e=v,_.j=b;var C={clone:a(7)},O={clone:a(83)},M={top:function(E,m){if(E.unit==="%")return Math.floor(m.height*(E.value/100))},right:function(E,m){if(E.unit==="%")return Math.floor(m.width-m.width*(E.value/100))},bottom:function(E,m){if(E.unit==="%")return Math.floor(m.height-m.height*(E.value/100))},left:function(E,m){if(E.unit==="%")return Math.floor(m.width*(E.value/100))}}},function(p,_,a){function e(r,t,o,u){t?this.data=t:o?(this.data=new o(r.x*r.y),o===Array&&u&&i.a.init(this.data,0)):(this.data=new Uint8Array(r.x*r.y),Uint8Array===Array&&u&&i.a.init(this.data,0)),this.size=r}var s=a(53),c=a(19),i=a(3),n={clone:a(7)};e.prototype.inImageWithBorder=function(r,t){return r.x>=t&&r.y>=t&&r.x<this.size.x-t&&r.y<this.size.y-t},e.sample=function(r,t,o){var u=Math.floor(t),f=Math.floor(o),l=r.size.x,d=f*r.size.x+u,h=r.data[d+0],v=r.data[d+1],g=r.data[d+l],b=r.data[d+l+1],y=h-v;return t-=u,o-=f,Math.floor(t*(o*(y-g+b)-y)+o*(g-h)+h)},e.clearArray=function(r){for(var t=r.length;t--;)r[t]=0},e.prototype.subImage=function(r,t){return new s.a(r,t,this)},e.prototype.subImageAsCopy=function(r,t){var o,u,f=r.size.y,l=r.size.x;for(o=0;o<l;o++)for(u=0;u<f;u++)r.data[u*l+o]=this.data[(t.y+u)*this.size.x+t.x+o]},e.prototype.copyTo=function(r){for(var t=this.data.length,o=this.data,u=r.data;t--;)u[t]=o[t]},e.prototype.get=function(r,t){return this.data[t*this.size.x+r]},e.prototype.getSafe=function(r,t){var o;if(!this.indexMapping){for(this.indexMapping={x:[],y:[]},o=0;o<this.size.x;o++)this.indexMapping.x[o]=o,this.indexMapping.x[o+this.size.x]=o;for(o=0;o<this.size.y;o++)this.indexMapping.y[o]=o,this.indexMapping.y[o+this.size.y]=o}return this.data[this.indexMapping.y[t+this.size.y]*this.size.x+this.indexMapping.x[r+this.size.x]]},e.prototype.set=function(r,t,o){return this.data[t*this.size.x+r]=o,this},e.prototype.zeroBorder=function(){var r,t=this.size.x,o=this.size.y,u=this.data;for(r=0;r<t;r++)u[r]=u[(o-1)*t+r]=0;for(r=1;r<o-1;r++)u[r*t]=u[r*t+(t-1)]=0},e.prototype.invert=function(){for(var r=this.data,t=r.length;t--;)r[t]=r[t]?0:1},e.prototype.convolve=function(r){var t,o,u,f,l=r.length/2|0,d=0;for(o=0;o<this.size.y;o++)for(t=0;t<this.size.x;t++){for(d=0,f=-l;f<=l;f++)for(u=-l;u<=l;u++)d+=r[f+l][u+l]*this.getSafe(t+u,o+f);this.data[o*this.size.x+t]=d}},e.prototype.moments=function(r){var t,o,u,f,l,d,h,v,g,b,y,x,C=this.data,O=this.size.y,M=this.size.x,E=[],m=[],R=Math.PI,S=R/4;if(r<=0)return m;for(l=0;l<r;l++)E[l]={m00:0,m01:0,m10:0,m11:0,m02:0,m20:0,theta:0,rad:0};for(o=0;o<O;o++)for(f=o*o,t=0;t<M;t++)(u=C[o*M+t])>0&&(d=E[u-1],d.m00+=1,d.m01+=o,d.m10+=t,d.m11+=t*o,d.m02+=f,d.m20+=t*t);for(l=0;l<r;l++)d=E[l],isNaN(d.m00)||d.m00===0||(b=d.m10/d.m00,y=d.m01/d.m00,h=d.m11/d.m00-b*y,v=d.m02/d.m00-y*y,g=d.m20/d.m00-b*b,x=(v-g)/(2*h),x=.5*Math.atan(x)+(h>=0?S:-S)+R,d.theta=(180*x/R+90)%180-90,d.theta<0&&(d.theta+=180),d.rad=x>R?x-R:x,d.vec=n.clone([Math.cos(x),Math.sin(x)]),m.push(d));return m},e.prototype.show=function(r,t){var o,u,f,l,d,h,v;for(t||(t=1),o=r.getContext("2d"),r.width=this.size.x,r.height=this.size.y,u=o.getImageData(0,0,r.width,r.height),f=u.data,l=0,v=0;v<this.size.y;v++)for(h=0;h<this.size.x;h++)d=v*this.size.x+h,l=this.get(h,v)*t,f[4*d+0]=l,f[4*d+1]=l,f[4*d+2]=l,f[4*d+3]=255;o.putImageData(u,0,0)},e.prototype.overlay=function(r,t,o){(!t||t<0||t>360)&&(t=360);for(var u=[0,1,1],f=[0,0,0],l=[255,255,255],d=[0,0,0],h=[],v=r.getContext("2d"),g=v.getImageData(o.x,o.y,this.size.x,this.size.y),b=g.data,y=this.data.length;y--;)u[0]=this.data[y]*t,h=u[0]<=0?l:u[0]>=360?d:a.i(c.a)(u,f),b[4*y+0]=h[0],b[4*y+1]=h[1],b[4*y+2]=h[2],b[4*y+3]=255;v.putImageData(g,o.x,o.y)},_.a=e},function(p,_,a){function e(c,i,n){i=="__proto__"&&s?s(c,i,{configurable:!0,enumerable:!0,value:n,writable:!0}):c[i]=n}var s=a(37);p.exports=e},function(p,_,a){function e(i,n){var r=c(i,n);return s(r)?r:void 0}var s=a(97),c=a(120);p.exports=e},function(p,_,a){function e(i){if(typeof i=="string"||s(i))return i;var n=i+"";return n=="0"&&1/i==-c?"-0":n}var s=a(27),c=1/0;p.exports=e},function(p,_,a){function e(i){return i!=null&&c(i.length)&&!s(i)}var s=a(25),c=a(26);p.exports=e},function(p,_,a){function e(o){if(!c(o))return!1;var u=s(o);return u==n||u==r||u==i||u==t}var s=a(8),c=a(0),i="[object AsyncFunction]",n="[object Function]",r="[object GeneratorFunction]",t="[object Proxy]";p.exports=e},function(p,_){function a(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=e}var e=9007199254740991;p.exports=a},function(p,_,a){function e(n){return typeof n=="symbol"||c(n)&&s(n)==i}var s=a(8),c=a(6),i="[object Symbol]";p.exports=e},function(p,_,a){var e=a(100),s=a(116),c=s(function(i,n,r){e(i,n,r)});p.exports=c},function(p,_){p.exports=function(a){return a.webpackPolyfill||(a.deprecate=function(){},a.paths=[],a.children||(a.children=[]),Object.defineProperty(a,"loaded",{enumerable:!0,get:function(){return a.l}}),Object.defineProperty(a,"id",{enumerable:!0,get:function(){return a.i}}),a.webpackPolyfill=1),a}},function(p,_,a){var e={searchDirections:[[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1],[-1,0],[-1,1]],create:function(s,c){function i(d,h,v,g){var b,y,x;for(b=0;b<7;b++){if(y=d.cy+f[d.dir][0],x=d.cx+f[d.dir][1],t=y*l+x,o[t]===h&&(u[t]===0||u[t]===v))return u[t]=v,d.cy=y,d.cx=x,!0;u[t]===0&&(u[t]=g),d.dir=(d.dir+1)%8}return!1}function n(d,h,v){return{dir:v,x:d,y:h,next:null,prev:null}}function r(d,h,v,g,b){var y,x,C,O=null,M={cx:h,cy:d,dir:0};if(i(M,g,v,b)){O=n(h,d,M.dir),y=O,C=M.dir,x=n(M.cx,M.cy,0),x.prev=y,y.next=x,x.next=null,y=x;do M.dir=(M.dir+6)%8,i(M,g,v,b),C!==M.dir?(y.dir=M.dir,x=n(M.cx,M.cy,0),x.prev=y,y.next=x,x.next=null,y=x):(y.dir=C,y.x=M.cx,y.y=M.cy),C=M.dir;while(M.cx!==h||M.cy!==d);O.prev=y.prev,y.prev.next=O}return O}var t,o=s.data,u=c.data,f=this.searchDirections,l=s.size.x;return{trace:function(d,h,v,g){return i(d,h,v,g)},contourTracing:function(d,h,v,g,b){return r(d,h,v,g,b)}}}};_.a=e},function(p,_,a){function e(){s.a.call(this)}var s=a(1),c=a(3),i={ALPHABETH_STRING:{value:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. *$/+%"},ALPHABET:{value:[48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,45,46,32,42,36,47,43,37]},CHARACTER_ENCODINGS:{value:[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,148,168,162,138,42]},ASTERISK:{value:148},FORMAT:{value:"code_39",writeable:!1}};e.prototype=Object.create(s.a.prototype,i),e.prototype.constructor=e,e.prototype._decode=function(){var n,r,t,o,u=this,f=[0,0,0,0,0,0,0,0,0],l=[],d=u._findStart();if(!d)return null;o=u._nextSet(u._row,d.end);do{if(f=u._toCounters(o,f),(t=u._toPattern(f))<0||(n=u._patternToChar(t))<0)return null;l.push(n),r=o,o+=c.a.sum(f),o=u._nextSet(u._row,o)}while(n!=="*");return l.pop(),l.length&&u._verifyTrailingWhitespace(r,o,f)?{code:l.join(""),start:d.start,end:o,startInfo:d,decodedCodes:l}:null},e.prototype._verifyTrailingWhitespace=function(n,r,t){var o=c.a.sum(t);return 3*(r-n-o)>=o},e.prototype._patternToChar=function(n){var r,t=this;for(r=0;r<t.CHARACTER_ENCODINGS.length;r++)if(t.CHARACTER_ENCODINGS[r]===n)return String.fromCharCode(t.ALPHABET[r]);return-1},e.prototype._findNextWidth=function(n,r){var t,o=Number.MAX_VALUE;for(t=0;t<n.length;t++)n[t]<o&&n[t]>r&&(o=n[t]);return o},e.prototype._toPattern=function(n){for(var r,t,o=n.length,u=0,f=o,l=0,d=this;f>3;){for(u=d._findNextWidth(n,u),f=0,r=0,t=0;t<o;t++)n[t]>u&&(r|=1<<o-1-t,f++,l+=n[t]);if(f===3){for(t=0;t<o&&f>0;t++)if(n[t]>u&&(f--,2*n[t]>=l))return-1;return r}}return-1},e.prototype._findStart=function(){var n,r,t,o=this,u=o._nextSet(o._row),f=u,l=[0,0,0,0,0,0,0,0,0],d=0,h=!1;for(n=u;n<o._row.length;n++)if(o._row[n]^h)l[d]++;else{if(d===l.length-1){if(o._toPattern(l)===o.ASTERISK&&(t=Math.floor(Math.max(0,f-(n-f)/4)),o._matchRange(t,f,0)))return{start:f,end:n};for(f+=l[0]+l[1],r=0;r<7;r++)l[r]=l[r+2];l[7]=0,l[8]=0,d--}else d++;l[d]=1,h=!h}return null},_.a=e},function(p,_){function a(e,s){return e[0]*s[0]+e[1]*s[1]}p.exports=a},function(p,_,a){var e=a(22),s=a(5),c=e(s,"Map");p.exports=c},function(p,_,a){function e(t){var o=-1,u=t==null?0:t.length;for(this.clear();++o<u;){var f=t[o];this.set(f[0],f[1])}}var s=a(138),c=a(139),i=a(140),n=a(141),r=a(142);e.prototype.clear=s,e.prototype.delete=c,e.prototype.get=i,e.prototype.has=n,e.prototype.set=r,p.exports=e},function(p,_,a){function e(i,n,r){(r===void 0||c(i[n],r))&&(r!==void 0||n in i)||s(i,n,r)}var s=a(21),c=a(17);p.exports=e},function(p,_,a){function e(r,t,o){var u=r[t];n.call(r,t)&&c(u,o)&&(o!==void 0||t in r)||s(r,t,o)}var s=a(21),c=a(17),i=Object.prototype,n=i.hasOwnProperty;p.exports=e},function(p,_,a){var e=a(22),s=function(){try{var c=e(Object,"defineProperty");return c({},"",{}),c}catch{}}();p.exports=s},function(p,_,a){(function(e){var s=typeof e=="object"&&e&&e.Object===Object&&e;p.exports=s}).call(_,a(47))},function(p,_,a){var e=a(147),s=e(Object.getPrototypeOf,Object);p.exports=s},function(p,_){function a(s){var c=s&&s.constructor;return s===(typeof c=="function"&&c.prototype||e)}var e=Object.prototype;p.exports=a},function(p,_,a){function e(i,n,r){return n=c(n===void 0?i.length-1:n,0),function(){for(var t=arguments,o=-1,u=c(t.length-n,0),f=Array(u);++o<u;)f[o]=t[n+o];o=-1;for(var l=Array(n+1);++o<n;)l[o]=t[o];return l[n]=r(f),s(i,this,l)}}var s=a(87),c=Math.max;p.exports=e},function(p,_,a){var e=a(106),s=a(148),c=s(e);p.exports=c},function(p,_){function a(e){return e}p.exports=a},function(p,_,a){(function(e){var s=a(5),c=a(163),i=typeof _=="object"&&_&&!_.nodeType&&_,n=i&&typeof e=="object"&&e&&!e.nodeType&&e,r=n&&n.exports===i,t=r?s.Buffer:void 0,o=t?t.isBuffer:void 0,u=o||c;e.exports=u}).call(_,a(29)(p))},function(p,_,a){var e=a(98),s=a(109),c=a(145),i=c&&c.isTypedArray,n=i?s(i):e;p.exports=n},function(p,_,a){function e(n){return i(n)?s(n,!0):c(n)}var s=a(88),c=a(99),i=a(24);p.exports=e},function(p,_){var a;a=function(){return this}();try{a=a||Function("return this")()||(0,eval)("this")}catch{typeof window=="object"&&(a=window)}p.exports=a},function(p,_,a){function e(w){t(w),D=P.a.create(Y.decoder,T)}function s(w){var U;if(Y.inputStream.type==="VideoStream")U=document.createElement("video"),m=V.a.createVideoStream(U);else if(Y.inputStream.type==="ImageStream")m=V.a.createImageStream();else if(Y.inputStream.type==="LiveStream"){var W=c();W&&((U=W.querySelector("video"))||(U=document.createElement("video"),W.appendChild(U))),m=V.a.createLiveStream(U),k.a.request(U,Y.inputStream.constraints).then(function(){m.trigger("canrecord")}).catch(function(H){return w(H)})}m.setAttribute("preload","auto"),m.setInputStream(Y.inputStream),m.addEventListener("canrecord",i.bind(void 0,w))}function c(){var w=Y.inputStream.target;if(w&&w.nodeName&&w.nodeType===1)return w;var U=typeof w=="string"?w:"#interactive.viewport";return document.querySelector(U)}function i(w){K.a.checkImageConstraints(m,Y.locator),r(),R=Q.a.create(m,q.dom.image),E(Y.numOfWorkers,function(){Y.numOfWorkers===0&&e(),n(w)})}function n(w){m.play(),w()}function r(){if(typeof document<"u"){var w=c();if(q.dom.image=document.querySelector("canvas.imgBuffer"),q.dom.image||(q.dom.image=document.createElement("canvas"),q.dom.image.className="imgBuffer",w&&Y.inputStream.type==="ImageStream"&&w.appendChild(q.dom.image)),q.ctx.image=q.dom.image.getContext("2d"),q.dom.image.width=m.getCanvasSize().x,q.dom.image.height=m.getCanvasSize().y,q.dom.overlay=document.querySelector("canvas.drawingBuffer"),!q.dom.overlay){q.dom.overlay=document.createElement("canvas"),q.dom.overlay.className="drawingBuffer",w&&w.appendChild(q.dom.overlay);var U=document.createElement("br");U.setAttribute("clear","all"),w&&w.appendChild(U)}q.ctx.overlay=q.dom.overlay.getContext("2d"),q.dom.overlay.width=m.getCanvasSize().x,q.dom.overlay.height=m.getCanvasSize().y}}function t(w){T=w||new te.a({x:m.getWidth(),y:m.getHeight()}),A=[J.clone([0,0]),J.clone([0,T.size.y]),J.clone([T.size.x,T.size.y]),J.clone([T.size.x,0])],K.a.init(T,Y.locator)}function o(){return Y.locate?K.a.locate():[[J.clone(A[0]),J.clone(A[1]),J.clone(A[2]),J.clone(A[3])]]}function u(w){function U(se){for(var ge=se.length;ge--;)se[ge][0]+=Z,se[ge][1]+=le}function W(se){se[0].x+=Z,se[0].y+=le,se[1].x+=Z,se[1].y+=le}var H,oe=m.getTopRight(),Z=oe.x,le=oe.y;if(Z!==0||le!==0){if(w.barcodes)for(H=0;H<w.barcodes.length;H++)u(w.barcodes[H]);if(w.line&&w.line.length===2&&W(w.line),w.box&&U(w.box),w.boxes&&w.boxes.length>0)for(H=0;H<w.boxes.length;H++)U(w.boxes[H])}}function f(w,U){U&&I&&(w.barcodes?w.barcodes.filter(function(W){return W.codeResult}).forEach(function(W){return f(W,U)}):w.codeResult&&I.addResult(U,m.getCanvasSize(),w.codeResult))}function l(w){return w&&(w.barcodes?w.barcodes.some(function(U){return U.codeResult}):w.codeResult)}function d(w,U){var W=w;w&&ae&&(u(w),f(w,U),W=w.barcodes||w),j.a.publish("processed",W),l(w)&&j.a.publish("detected",W)}function h(){var w,U;U=o(),U?(w=D.decodeFromBoundingBoxes(U),w=w||{},w.boxes=U,d(w,T.data)):d()}function v(){var w;if(ae){if(ee.length>0){if(!(w=ee.filter(function(U){return!U.busy})[0]))return;R.attachData(w.imageData)}else R.attachData(T.data);R.grab()&&(w?(w.busy=!0,w.worker.postMessage({cmd:"process",imageData:w.imageData},[w.imageData.buffer])):h())}else h()}function g(){var w=null,U=1e3/(Y.frequency||60);S=!1,function W(H){w=w||H,S||(H>=w&&(w+=U,v()),window.requestAnimFrame(W))}(performance.now())}function b(){ae&&Y.inputStream.type==="LiveStream"?g():v()}function y(w){var U,W={worker:void 0,imageData:new Uint8Array(m.getWidth()*m.getHeight()),busy:!0};U=O(),W.worker=new Worker(U),W.worker.onmessage=function(H){if(H.data.event==="initialized")return URL.revokeObjectURL(U),W.busy=!1,W.imageData=new Uint8Array(H.data.imageData),w(W);H.data.event==="processed"?(W.imageData=new Uint8Array(H.data.imageData),W.busy=!1,d(H.data.result,W.imageData)):H.data.event},W.worker.postMessage({cmd:"init",size:{x:m.getWidth(),y:m.getHeight()},imageData:W.imageData,config:x(Y)},[W.imageData.buffer])}function x(w){return X({},w,{inputStream:X({},w.inputStream,{target:null})})}function C(w){function U(Z){self.postMessage({event:"processed",imageData:oe.data,result:Z},[oe.data.buffer])}function W(){self.postMessage({event:"initialized",imageData:oe.data},[oe.data.buffer])}if(w){var H=w().default;if(!H)return void self.postMessage({event:"error",message:"Quagga could not be created"})}var oe;self.onmessage=function(Z){if(Z.data.cmd==="init"){var le=Z.data.config;le.numOfWorkers=0,oe=new H.ImageWrapper({x:Z.data.size.x,y:Z.data.size.y},new Uint8Array(Z.data.imageData)),H.init(le,W,oe),H.onProcessed(U)}else Z.data.cmd==="process"?(oe.data=new Uint8Array(Z.data.imageData),H.start()):Z.data.cmd==="setReaders"&&H.setReaders(Z.data.readers)}}function O(){var w,U;return ne!==void 0&&(U=ne),w=new Blob(["("+C.toString()+")("+U+");"],{type:"text/javascript"}),window.URL.createObjectURL(w)}function M(w){D?D.setReaders(w):ae&&ee.length>0&&ee.forEach(function(U){U.worker.postMessage({cmd:"setReaders",readers:w})})}function E(w,U){var W=w-ee.length;if(W===0)return U&&U();if(W<0)return ee.slice(W).forEach(function(Z){Z.worker.terminate()}),ee=ee.slice(0,W),U&&U();for(var H=function(Z){ee.push(Z),ee.length>=w&&U&&U()},oe=0;oe<W;oe++)y(H)}Object.defineProperty(_,"__esModule",{value:!0});var m,R,S,T,A,D,I,N=a(28),z=a.n(N),F=a(54),te=(a.n(F),a(20)),K=a(64),P=a(57),j=a(51),k=a(59),L=a(9),B=a(49),G=a(55),V=a(63),Q=a(61),X=Object.assign||function(w){for(var U=1;U<arguments.length;U++){var W=arguments[U];for(var H in W)Object.prototype.hasOwnProperty.call(W,H)&&(w[H]=W[H])}return w},J={clone:a(7)},q={ctx:{image:null,overlay:null},dom:{image:null,overlay:null}},ee=[],ae=!0,Y={};_.default={init:function(w,U,W){if(Y=z()({},G.a,w),W)return ae=!1,e(W),U();s(U)},start:function(){b()},stop:function(){S=!0,E(0),Y.inputStream.type==="LiveStream"&&(k.a.release(),m.clearEventHandlers())},pause:function(){S=!0},onDetected:function(w){j.a.subscribe("detected",w)},offDetected:function(w){j.a.unsubscribe("detected",w)},onProcessed:function(w){j.a.subscribe("processed",w)},offProcessed:function(w){j.a.unsubscribe("processed",w)},setReaders:function(w){M(w)},registerResultCollector:function(w){w&&typeof w.addResult=="function"&&(I=w)},canvas:q,decodeSingle:function(w,U){var W=this;w=z()({inputStream:{type:"ImageStream",sequence:!1,size:800,src:w.src},numOfWorkers:1,locator:{halfSample:!1}},w),this.init(w,function(){j.a.once("processed",function(H){W.stop(),U.call(null,H)},!0),b()})},ImageWrapper:te.a,ImageDebug:L.a,ResultCollector:B.a,CameraAccess:k.a}},function(p,_,a){function e(i,n){return!!n&&n.some(function(r){return Object.keys(r).every(function(t){return r[t]===i[t]})})}function s(i,n){return typeof n!="function"||n(i)}var c=a(9);_.a={create:function(i){function n(l){return u&&l&&!e(l,i.blacklist)&&s(l,i.filter)}var r=document.createElement("canvas"),t=r.getContext("2d"),o=[],u=i.capacity||20,f=i.capture===!0;return{addResult:function(l,d,h){var v={};n(h)&&(u--,v.codeResult=h,f&&(r.width=d.x,r.height=d.y,c.a.drawImage(l,d,t),v.frame=r.toDataURL()),o.push(v))},getResults:function(){return o}}}}},function(p,_,a){var e={clone:a(7),dot:a(32)};_.a={create:function(s,c){function i(){n(s),r()}function n(f){u[f.id]=f,t.push(f)}function r(){var f,l=0;for(f=0;f<t.length;f++)l+=t[f].rad;o.rad=l/t.length,o.vec=e.clone([Math.cos(o.rad),Math.sin(o.rad)])}var t=[],o={rad:0,vec:e.clone([0,0])},u={};return i(),{add:function(f){u[f.id]||(n(f),r())},fits:function(f){return Math.abs(e.dot(f.point.vec,o.vec))>c},getPoints:function(){return t},getCenter:function(){return o}}},createPoint:function(s,c,i){return{rad:s[i],point:s,id:c}}}},function(p,_,a){_.a=function(){function e(r){return n[r]||(n[r]={subscribers:[]}),n[r]}function s(){n={}}function c(r,t){r.async?setTimeout(function(){r.callback(t)},4):r.callback(t)}function i(r,t,o){var u;if(typeof t=="function")u={callback:t,async:o};else if(u=t,!u.callback)throw"Callback was not specified on options";e(r).subscribers.push(u)}var n={};return{subscribe:function(r,t,o){return i(r,t,o)},publish:function(r,t){var o=e(r),u=o.subscribers;u.filter(function(f){return!!f.once}).forEach(function(f){c(f,t)}),o.subscribers=u.filter(function(f){return!f.once}),o.subscribers.forEach(function(f){c(f,t)})},once:function(r,t,o){i(r,{callback:t,async:o,once:!0})},unsubscribe:function(r,t){var o;r?(o=e(r),o.subscribers=o&&t?o.subscribers.filter(function(u){return u.callback!==t}):[]):s()}}}()},function(p,_,a){function e(){return navigator.mediaDevices&&typeof navigator.mediaDevices.enumerateDevices=="function"?navigator.mediaDevices.enumerateDevices():Promise.reject(new Error("enumerateDevices is not defined"))}function s(c){return navigator.mediaDevices&&typeof navigator.mediaDevices.getUserMedia=="function"?navigator.mediaDevices.getUserMedia(c):Promise.reject(new Error("getUserMedia is not defined"))}_.b=e,_.a=s},function(p,_,a){function e(s,c,i){i||(i={data:null,size:c}),this.data=i.data,this.originalSize=i.size,this.I=i,this.from=s,this.size=c}e.prototype.show=function(s,c){var i,n,r,t,o,u,f;for(c||(c=1),i=s.getContext("2d"),s.width=this.size.x,s.height=this.size.y,n=i.getImageData(0,0,s.width,s.height),r=n.data,t=0,o=0;o<this.size.y;o++)for(u=0;u<this.size.x;u++)f=o*this.size.x+u,t=this.get(u,o)*c,r[4*f+0]=t,r[4*f+1]=t,r[4*f+2]=t,r[4*f+3]=255;n.data=r,i.putImageData(n,0,0)},e.prototype.get=function(s,c){return this.data[(this.from.y+c)*this.originalSize.x+this.from.x+s]},e.prototype.updateData=function(s){this.originalSize=s.size,this.data=s.data},e.prototype.updateFrom=function(s){return this.from=s,this},_.a=e},function(p,_){typeof window<"u"&&(window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}()),Math.imul=Math.imul||function(a,e){var s=a>>>16&65535,c=65535&a,i=e>>>16&65535,n=65535&e;return c*n+(s*n+c*i<<16>>>0)|0},typeof Object.assign!="function"&&(Object.assign=function(a){if(a===null)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(a),s=1;s<arguments.length;s++){var c=arguments[s];if(c!==null)for(var i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i])}return e})},function(p,_,a){var e=void 0;e=a(56),_.a=e},function(p,_){p.exports={inputStream:{name:"Live",type:"LiveStream",constraints:{width:640,height:480,facingMode:"environment"},area:{top:"0%",right:"0%",left:"0%",bottom:"0%"},singleChannel:!1},locate:!0,numOfWorkers:4,decoder:{readers:["code_128_reader"]},locator:{halfSample:!0,patchSize:"medium"}}},function(p,_,a){var e=a(58),s=(a(9),a(69)),c=a(4),i=a(31),n=a(70),r=a(68),t=a(77),o=a(74),u=a(72),f=a(73),l=a(76),d=a(75),h=a(67),v=a(71),g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},b={code_128_reader:s.a,ean_reader:c.a,ean_5_reader:f.a,ean_2_reader:u.a,ean_8_reader:o.a,code_39_reader:i.a,code_39_vin_reader:n.a,codabar_reader:r.a,upc_reader:t.a,upc_e_reader:l.a,i2of5_reader:d.a,"2of5_reader":h.a,code_93_reader:v.a};_.a={create:function(y,x){function C(){y.readers.forEach(function(A){var D,I={},N=[];(A===void 0?"undefined":g(A))==="object"?(D=A.format,I=A.config):typeof A=="string"&&(D=A),I.supplements&&(N=I.supplements.map(function(z){return new b[z]})),T.push(new b[D](I,N))})}function O(A,D,I){function N(z){var F={y:z*Math.sin(D),x:z*Math.cos(D)};A[0].y-=F.y,A[0].x-=F.x,A[1].y+=F.y,A[1].x+=F.x}for(N(I);I>1&&(!x.inImageWithBorder(A[0],0)||!x.inImageWithBorder(A[1],0));)I-=Math.ceil(I/2),N(-I);return A}function M(A){return[{x:(A[1][0]-A[0][0])/2+A[0][0],y:(A[1][1]-A[0][1])/2+A[0][1]},{x:(A[3][0]-A[2][0])/2+A[2][0],y:(A[3][1]-A[2][1])/2+A[2][1]}]}function E(A){var D,I=null,N=e.a.getBarcodeLine(x,A[0],A[1]);for(e.a.toBinaryLine(N),D=0;D<T.length&&I===null;D++)I=T[D].decodePattern(N.line);return I===null?null:{codeResult:I,barcodeLine:N}}function m(A,D,I){var N,z,F,te=Math.sqrt(Math.pow(A[1][0]-A[0][0],2)+Math.pow(A[1][1]-A[0][1],2)),K=16,P=null,j=Math.sin(I),k=Math.cos(I);for(N=1;N<K&&P===null;N++)z=te/K*N*(N%2==0?-1:1),F={y:z*j,x:z*k},D[0].y+=F.x,D[0].x-=F.y,D[1].y+=F.x,D[1].x-=F.y,P=E(D);return P}function R(A){return Math.sqrt(Math.pow(Math.abs(A[1].y-A[0].y),2)+Math.pow(Math.abs(A[1].x-A[0].x),2))}function S(A){var D,I,N,z;return D=M(A),z=R(D),I=Math.atan2(D[1].y-D[0].y,D[1].x-D[0].x),(D=O(D,I,Math.floor(.1*z)))===null?null:(N=E(D),N===null&&(N=m(A,D,I)),N===null?null:{codeResult:N.codeResult,line:D,angle:I,pattern:N.barcodeLine.line,threshold:N.barcodeLine.threshold})}var T=[];return C(),{decodeFromBoundingBox:function(A){return S(A)},decodeFromBoundingBoxes:function(A){var D,I,N=[],z=y.multiple;for(D=0;D<A.length;D++){var F=A[D];if(I=S(F)||{},I.box=F,z)N.push(I);else if(I.codeResult)return I}if(z)return{barcodes:N}},setReaders:function(A){y.readers=A,T.length=0,C()}}}}},function(p,_,a){var e=(a(20),{}),s={DIR:{UP:1,DOWN:-1}};e.getBarcodeLine=function(c,i,n){function r(S,T){v=M[T*E+S],m=v<m?v:m,R=v>R?v:R,O.push(v)}var t,o,u,f,l,d,h,v,g=0|i.x,b=0|i.y,y=0|n.x,x=0|n.y,C=Math.abs(x-b)>Math.abs(y-g),O=[],M=c.data,E=c.size.x,m=255,R=0;for(C&&(d=g,g=b,b=d,d=y,y=x,x=d),g>y&&(d=g,g=y,y=d,d=b,b=x,x=d),t=y-g,o=Math.abs(x-b),u=t/2|0,l=b,f=b<x?1:-1,h=g;h<y;h++)C?r(l,h):r(h,l),(u-=o)<0&&(l+=f,u+=t);return{line:O,min:m,max:R}},e.toBinaryLine=function(c){var i,n,r,t,o,u,f=c.min,l=c.max,d=c.line,h=f+(l-f)/2,v=[],g=(l-f)/12,b=-g;for(r=d[0]>h?s.DIR.UP:s.DIR.DOWN,v.push({pos:0,val:d[0]}),o=0;o<d.length-2;o++)i=d[o+1]-d[o],n=d[o+2]-d[o+1],t=i+n<b&&d[o+1]<1.5*h?s.DIR.DOWN:i+n>g&&d[o+1]>.5*h?s.DIR.UP:r,r!==t&&(v.push({pos:o,val:d[o]}),r=t);for(v.push({pos:d.length,val:d[d.length-1]}),u=v[0].pos;u<v[1].pos;u++)d[u]=d[u]>h?0:1;for(o=1;o<v.length-1;o++)for(g=v[o+1].val>v[o].val?v[o].val+(v[o+1].val-v[o].val)/3*2|0:v[o+1].val+(v[o].val-v[o+1].val)/3|0,u=v[o].pos;u<v[o+1].pos;u++)d[u]=d[u]>g?0:1;return{line:d,threshold:g}},e.debug={printFrequency:function(c,i){var n,r=i.getContext("2d");for(i.width=c.length,i.height=256,r.beginPath(),r.strokeStyle="blue",n=0;n<c.length;n++)r.moveTo(n,255),r.lineTo(n,255-c[n]);r.stroke(),r.closePath()},printPattern:function(c,i){var n,r=i.getContext("2d");for(i.width=c.length,r.fillColor="black",n=0;n<c.length;n++)c[n]===1&&r.fillRect(n,0,1,100)}},_.a=e},function(p,_,a){function e(l){return new Promise(function(d,h){function v(){g>0?l.videoWidth>10&&l.videoHeight>10?d():window.setTimeout(v,500):h("Unable to play video stream. Is webcam working?"),g--}var g=10;v()})}function s(l,d){return a.i(f.a)(d).then(function(h){return new Promise(function(v){t=h,l.setAttribute("autoplay",!0),l.setAttribute("muted",!0),l.setAttribute("playsinline",!0),l.srcObject=h,l.addEventListener("loadedmetadata",function(){l.play(),v()})})}).then(e.bind(null,l))}function c(l){var d=u()(l,["width","height","facingMode","aspectRatio","deviceId"]);return l.minAspectRatio!==void 0&&l.minAspectRatio>0&&(d.aspectRatio=l.minAspectRatio,console.log("WARNING: Constraint 'minAspectRatio' is deprecated; Use 'aspectRatio' instead")),l.facing!==void 0&&(d.facingMode=l.facing,console.log("WARNING: Constraint 'facing' is deprecated. Use 'facingMode' instead'")),d}function i(l){var d={audio:!1,video:c(l)};return d.video.deviceId&&d.video.facingMode&&delete d.video.facingMode,Promise.resolve(d)}function n(){return a.i(f.b)().then(function(l){return l.filter(function(d){return d.kind==="videoinput"})})}function r(){if(t){var l=t.getVideoTracks();if(l&&l.length)return l[0]}}var t,o=a(162),u=a.n(o),f=a(52);_.a={request:function(l,d){return i(d).then(s.bind(null,l))},release:function(){var l=t&&t.getVideoTracks();l&&l.length&&l[0].stop(),t=null},enumerateVideoDevices:n,getActiveStreamLabel:function(){var l=r();return l?l.label:""},getActiveTrack:r}},function(p,_,a){function e(l){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f;return/^blob\:/i.test(l)?c(l).then(s).then(function(h){return i(h,d)}):Promise.resolve(null)}function s(l){return new Promise(function(d){var h=new FileReader;h.onload=function(v){return d(v.target.result)},h.readAsArrayBuffer(l)})}function c(l){return new Promise(function(d,h){var v=new XMLHttpRequest;v.open("GET",l,!0),v.responseType="blob",v.onreadystatechange=function(){v.readyState!==XMLHttpRequest.DONE||v.status!==200&&v.status!==0||d(this.response)},v.onerror=h,v.send()})}function i(l){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f,h=new DataView(l),v=l.byteLength,g=d.reduce(function(y,x){var C=Object.keys(u).filter(function(O){return u[O]===x})[0];return C&&(y[C]=x),y},{}),b=2;if(h.getUint8(0)!==255||h.getUint8(1)!==216)return!1;for(;b<v;){if(h.getUint8(b)!==255)return!1;if(h.getUint8(b+1)===225)return n(h,b+4,g);b+=2+h.getUint16(b+2)}}function n(l,d,h){if(o(l,d,4)!=="Exif")return!1;var v=d+6,g=void 0;if(l.getUint16(v)===18761)g=!1;else{if(l.getUint16(v)!==19789)return!1;g=!0}if(l.getUint16(v+2,!g)!==42)return!1;var b=l.getUint32(v+4,!g);return!(b<8)&&r(l,v,v+b,h,g)}function r(l,d,h,v,g){for(var b=l.getUint16(h,!g),y={},x=0;x<b;x++){var C=h+12*x+2,O=v[l.getUint16(C,!g)];O&&(y[O]=t(l,C,d,h,g))}return y}function t(l,d,h,v,g){var b=l.getUint16(d+2,!g),y=l.getUint32(d+4,!g);switch(b){case 3:if(y===1)return l.getUint16(d+8,!g)}}function o(l,d,h){for(var v="",g=d;g<d+h;g++)v+=String.fromCharCode(l.getUint8(g));return v}_.a=e;var u={274:"orientation"},f=Object.keys(u).map(function(l){return u[l]})},function(p,_,a){function e(n,r){n.width!==r.x&&(n.width=r.x),n.height!==r.y&&(n.height=r.y)}var s=a(19),c=Math.PI/180,i={};i.create=function(n,r){var t,o={},u=n.getConfig(),f=(a.i(s.b)(n.getRealWidth(),n.getRealHeight()),n.getCanvasSize()),l=a.i(s.b)(n.getWidth(),n.getHeight()),d=n.getTopRight(),h=d.x,v=d.y,g=null,b=null;return t=r||document.createElement("canvas"),t.width=f.x,t.height=f.y,g=t.getContext("2d"),b=new Uint8Array(l.x*l.y),o.attachData=function(y){b=y},o.getData=function(){return b},o.grab=function(){var y,x=u.halfSample,C=n.getFrame(),O=C,M=0;if(O){if(e(t,f),u.type==="ImageStream"&&(O=C.img,C.tags&&C.tags.orientation))switch(C.tags.orientation){case 6:M=90*c;break;case 8:M=-90*c}return M!==0?(g.translate(f.x/2,f.y/2),g.rotate(M),g.drawImage(O,-f.y/2,-f.x/2,f.y,f.x),g.rotate(-M),g.translate(-f.x/2,-f.y/2)):g.drawImage(O,0,0,f.x,f.y),y=g.getImageData(h,v,l.x,l.y).data,x?a.i(s.c)(y,l,b):a.i(s.d)(y,b,u),!0}return!1},o.getSize=function(){return l},o},_.a=i},function(p,_,a){function e(i,n){i.onload=function(){n.loaded(this)}}var s=a(60),c={};c.load=function(i,n,r,t,o){var u,f,l,d=new Array(t),h=new Array(d.length);if(o===!1)d[0]=i;else for(u=0;u<d.length;u++)l=r+u,d[u]=i+"image-"+("00"+l).slice(-3)+".jpg";for(h.notLoaded=[],h.addImage=function(v){h.notLoaded.push(v)},h.loaded=function(v){for(var g=h.notLoaded,b=0;b<g.length;b++)if(g[b]===v){g.splice(b,1);for(var y=0;y<d.length;y++){var x=d[y].substr(d[y].lastIndexOf("/"));if(v.src.lastIndexOf(x)!==-1){h[y]={img:v};break}}break}g.length===0&&(o===!1?a.i(s.a)(i,["orientation"]).then(function(C){h[0].tags=C,n(h)}).catch(function(C){console.log(C),n(h)}):n(h))},u=0;u<d.length;u++)f=new Image,h.addImage(f),e(f,h),f.src=d[u]},_.a=c},function(p,_,a){var e=a(62),s={};s.createVideoStream=function(c){function i(){var h=c.videoWidth,v=c.videoHeight;n=o.size?h/v>1?o.size:Math.floor(h/v*o.size):h,r=o.size?h/v>1?Math.floor(v/h*o.size):o.size:v,d.x=n,d.y=r}var n,r,t={},o=null,u=["canrecord","ended"],f={},l={x:0,y:0},d={x:0,y:0};return t.getRealWidth=function(){return c.videoWidth},t.getRealHeight=function(){return c.videoHeight},t.getWidth=function(){return n},t.getHeight=function(){return r},t.setWidth=function(h){n=h},t.setHeight=function(h){r=h},t.setInputStream=function(h){o=h,c.src=h.src!==void 0?h.src:""},t.ended=function(){return c.ended},t.getConfig=function(){return o},t.setAttribute=function(h,v){c.setAttribute(h,v)},t.pause=function(){c.pause()},t.play=function(){c.play()},t.setCurrentTime=function(h){o.type!=="LiveStream"&&(c.currentTime=h)},t.addEventListener=function(h,v,g){u.indexOf(h)!==-1?(f[h]||(f[h]=[]),f[h].push(v)):c.addEventListener(h,v,g)},t.clearEventHandlers=function(){u.forEach(function(h){var v=f[h];v&&v.length>0&&v.forEach(function(g){c.removeEventListener(h,g)})})},t.trigger=function(h,v){var g,b=f[h];if(h==="canrecord"&&i(),b&&b.length>0)for(g=0;g<b.length;g++)b[g].apply(t,v)},t.setTopRight=function(h){l.x=h.x,l.y=h.y},t.getTopRight=function(){return l},t.setCanvasSize=function(h){d.x=h.x,d.y=h.y},t.getCanvasSize=function(){return d},t.getFrame=function(){return c},t},s.createLiveStream=function(c){c.setAttribute("autoplay",!0);var i=s.createVideoStream(c);return i.ended=function(){return!1},i},s.createImageStream=function(){function c(){h=!1,e.a.load(y,function(m){if(v=m,m[0].tags&&m[0].tags.orientation)switch(m[0].tags.orientation){case 6:case 8:u=m[0].img.height,f=m[0].img.width;break;default:u=m[0].img.width,f=m[0].img.height}else u=m[0].img.width,f=m[0].img.height;n=o.size?u/f>1?o.size:Math.floor(u/f*o.size):u,r=o.size?u/f>1?Math.floor(f/u*o.size):o.size:f,E.x=n,E.y=r,h=!0,l=0,setTimeout(function(){i("canrecord",[])},0)},b,g,o.sequence)}function i(m,R){var S,T=O[m];if(T&&T.length>0)for(S=0;S<T.length;S++)T[S].apply(t,R)}var n,r,t={},o=null,u=0,f=0,l=0,d=!0,h=!1,v=null,g=0,b=1,y=null,x=!1,C=["canrecord","ended"],O={},M={x:0,y:0},E={x:0,y:0};return t.trigger=i,t.getWidth=function(){return n},t.getHeight=function(){return r},t.setWidth=function(m){n=m},t.setHeight=function(m){r=m},t.getRealWidth=function(){return u},t.getRealHeight=function(){return f},t.setInputStream=function(m){o=m,m.sequence===!1?(y=m.src,g=1):(y=m.src,g=m.length),c()},t.ended=function(){return x},t.setAttribute=function(){},t.getConfig=function(){return o},t.pause=function(){d=!0},t.play=function(){d=!1},t.setCurrentTime=function(m){l=m},t.addEventListener=function(m,R){C.indexOf(m)!==-1&&(O[m]||(O[m]=[]),O[m].push(R))},t.setTopRight=function(m){M.x=m.x,M.y=m.y},t.getTopRight=function(){return M},t.setCanvasSize=function(m){E.x=m.x,E.y=m.y},t.getCanvasSize=function(){return E},t.getFrame=function(){var m;return h?(d||(m=v[l],l<g-1?l++:setTimeout(function(){x=!0,i("ended",[])},0)),m):null},t},_.a=s},function(p,_,a){(function(e){function s(){var P;v=h.halfSample?new S.a({x:m.size.x/2|0,y:m.size.y/2|0}):m,E=a.i(T.e)(h.patchSize,v.size),K.x=v.size.x/E.x|0,K.y=v.size.y/E.y|0,M=new S.a(v.size,void 0,Uint8Array,!1),y=new S.a(E,void 0,Array,!0),P=new ArrayBuffer(65536),b=new S.a(E,new Uint8Array(P,0,E.x*E.y)),g=new S.a(E,new Uint8Array(P,E.x*E.y*3,E.x*E.y),void 0,!0),R=a.i(N.a)(typeof window<"u"?window:typeof self<"u"?self:e,{size:E.x},P),O=new S.a({x:v.size.x/b.size.x|0,y:v.size.y/b.size.y|0},void 0,Array,!0),x=new S.a(O.size,void 0,void 0,!0),C=new S.a(O.size,void 0,Int32Array,!0)}function c(){h.useWorker||typeof document>"u"||(te.dom.binary=document.createElement("canvas"),te.dom.binary.className="binaryBuffer",te.ctx.binary=te.dom.binary.getContext("2d"),te.dom.binary.width=M.size.x,te.dom.binary.height=M.size.y)}function i(P){var j,k,L,B,G,V,Q,X=M.size.x,J=M.size.y,q=-M.size.x,ee=-M.size.y;for(j=0,k=0;k<P.length;k++)B=P[k],j+=B.rad;for(j/=P.length,j=(180*j/Math.PI+90)%180-90,j<0&&(j+=180),j=(180-j)*Math.PI/180,G=F.copy(F.create(),[Math.cos(j),Math.sin(j),-Math.sin(j),Math.cos(j)]),k=0;k<P.length;k++)for(B=P[k],L=0;L<4;L++)z.transformMat2(B.box[L],B.box[L],G);for(k=0;k<P.length;k++)for(B=P[k],L=0;L<4;L++)B.box[L][0]<X&&(X=B.box[L][0]),B.box[L][0]>q&&(q=B.box[L][0]),B.box[L][1]<J&&(J=B.box[L][1]),B.box[L][1]>ee&&(ee=B.box[L][1]);for(V=[[X,J],[q,J],[q,ee],[X,ee]],Q=h.halfSample?2:1,G=F.invert(G,G),L=0;L<4;L++)z.transformMat2(V[L],V[L],G);for(L=0;L<4;L++)z.scale(V[L],V[L],Q);return V}function n(){a.i(T.f)(v,M),M.zeroBorder()}function r(){var P,j,k,L,B,G,V,Q=[];for(P=0;P<K.x;P++)for(j=0;j<K.y;j++)k=b.size.x*P,L=b.size.y*j,f(k,L),g.zeroBorder(),A.a.init(y.data,0),G=D.a.create(g,y),V=G.rasterize(0),B=y.moments(V.count),Q=Q.concat(l(B,[P,j],k,L));return Q}function t(P){var j,k,L=[];for(j=0;j<P;j++)L.push(0);for(k=C.data.length;k--;)C.data[k]>0&&L[C.data[k]-1]++;return L=L.map(function(B,G){return{val:B,label:G+1}}),L.sort(function(B,G){return G.val-B.val}),L.filter(function(B){return B.val>=5})}function o(P,j){var k,L,B,G,V=[],Q=[];for(k=0;k<P.length;k++){for(L=C.data.length,V.length=0;L--;)C.data[L]===P[k].label&&(B=O.data[L],V.push(B));G=i(V),G&&Q.push(G)}return Q}function u(P){var j=a.i(T.g)(P,.9),k=a.i(T.h)(j,1,function(V){return V.getPoints().length}),L=[],B=[];if(k.length===1){L=k[0].item.getPoints();for(var G=0;G<L.length;G++)B.push(L[G].point)}return B}function f(P,j){M.subImageAsCopy(b,a.i(T.b)(P,j)),R.skeletonize()}function l(P,j,k,L){var B,G,V,Q,X=[],J=[],q=Math.ceil(E.x/3);if(P.length>=2){for(B=0;B<P.length;B++)P[B].m00>q&&X.push(P[B]);if(X.length>=2){for(V=u(X),G=0,B=0;B<V.length;B++)G+=V[B].rad;V.length>1&&V.length>=X.length/4*3&&V.length>P.length/4&&(G/=V.length,Q={index:j[1]*K.x+j[0],pos:{x:k,y:L},box:[z.clone([k,L]),z.clone([k+b.size.x,L]),z.clone([k+b.size.x,L+b.size.y]),z.clone([k,L+b.size.y])],moments:V,rad:G,vec:z.clone([Math.cos(G),Math.sin(G)])},J.push(Q))}}return J}function d(P){function j(){var X;for(X=0;X<C.data.length;X++)if(C.data[X]===0&&x.data[X]===1)return X;return C.length}function k(X){var J,q,ee,ae,Y,w={x:X%C.size.x,y:X/C.size.x|0};if(X<C.data.length)for(ee=O.data[X],C.data[X]=G,Y=0;Y<I.a.searchDirections.length;Y++)q=w.y+I.a.searchDirections[Y][0],J=w.x+I.a.searchDirections[Y][1],ae=q*C.size.x+J,x.data[ae]!==0?C.data[ae]===0&&Math.abs(z.dot(O.data[ae].vec,ee.vec))>V&&k(ae):C.data[ae]=Number.MAX_VALUE}var L,B,G=0,V=.95,Q=0;for(A.a.init(x.data,0),A.a.init(C.data,0),A.a.init(O.data,null),L=0;L<P.length;L++)B=P[L],O.data[B.index]=B,x.data[B.index]=1;for(x.zeroBorder();(Q=j())<C.data.length;)G++,k(Q);return G}var h,v,g,b,y,x,C,O,M,E,m,R,S=a(20),T=a(19),A=a(3),D=(a(9),a(65)),I=a(30),N=a(66),z={clone:a(7),dot:a(32),scale:a(81),transformMat2:a(82)},F={copy:a(78),create:a(79),invert:a(80)},te={ctx:{binary:null},dom:{binary:null}},K={x:0,y:0};_.a={init:function(P,j){h=j,m=P,s(),c()},locate:function(){var P,j;if(h.halfSample&&a.i(T.i)(m,v),n(),P=r(),P.length<K.x*K.y*.05)return null;var k=d(P);return k<1?null:(j=t(k),j.length===0?null:o(j))},checkImageConstraints:function(P,j){var k,L,B,G=P.getWidth(),V=P.getHeight(),Q=j.halfSample?.5:1;if(P.getConfig().area&&(B=a.i(T.j)(G,V,P.getConfig().area),P.setTopRight({x:B.sx,y:B.sy}),P.setCanvasSize({x:G,y:V}),G=B.sw,V=B.sh),L={x:Math.floor(G*Q),y:Math.floor(V*Q)},k=a.i(T.e)(j.patchSize,L),P.setWidth(Math.floor(Math.floor(L.x/k.x)*(1/Q)*k.x)),P.setHeight(Math.floor(Math.floor(L.y/k.y)*(1/Q)*k.y)),P.getWidth()%k.x==0&&P.getHeight()%k.y==0)return!0;throw new Error("Image dimensions do not comply with the current settings: Width ("+G+" )and height ("+V+") must a multiple of "+k.x)}}}).call(_,a(47))},function(p,_,a){var e=a(30),s={createContour2D:function(){return{dir:null,index:null,firstVertex:null,insideContours:null,nextpeer:null,prevpeer:null}},CONTOUR_DIR:{CW_DIR:0,CCW_DIR:1,UNKNOWN_DIR:2},DIR:{OUTSIDE_EDGE:-32767,INSIDE_EDGE:-32766},create:function(c,i){var n=c.data,r=i.data,t=c.size.x,o=c.size.y,u=e.a.create(c,i);return{rasterize:function(f){var l,d,h,v,g,b,y,x,C,O,M,E,m=[],R=0;for(E=0;E<400;E++)m[E]=0;for(m[0]=n[0],C=null,b=1;b<o-1;b++)for(v=0,d=m[0],g=1;g<t-1;g++)if(M=b*t+g,r[M]===0)if((l=n[M])!==d){if(v===0)h=R+1,m[h]=l,d=l,(y=u.contourTracing(b,g,h,l,s.DIR.OUTSIDE_EDGE))!==null&&(R++,v=h,x=s.createContour2D(),x.dir=s.CONTOUR_DIR.CW_DIR,x.index=v,x.firstVertex=y,x.nextpeer=C,x.insideContours=null,C!==null&&(C.prevpeer=x),C=x);else if((y=u.contourTracing(b,g,s.DIR.INSIDE_EDGE,l,v))!==null){for(x=s.createContour2D(),x.firstVertex=y,x.insideContours=null,x.dir=f===0?s.CONTOUR_DIR.CCW_DIR:s.CONTOUR_DIR.CW_DIR,x.index=f,O=C;O!==null&&O.index!==v;)O=O.nextpeer;O!==null&&(x.nextpeer=O.insideContours,O.insideContours!==null&&(O.insideContours.prevpeer=x),O.insideContours=x)}}else r[M]=v;else r[M]===s.DIR.OUTSIDE_EDGE||r[M]===s.DIR.INSIDE_EDGE?(v=0,d=r[M]===s.DIR.INSIDE_EDGE?n[M]:m[0]):(v=r[M],d=m[v]);for(O=C;O!==null;)O.index=f,O=O.nextpeer;return{cc:C,count:R}},debug:{drawContour:function(f,l){var d,h,v,g=f.getContext("2d"),b=l;for(g.strokeStyle="red",g.fillStyle="red",g.lineWidth=1,d=b!==null?b.insideContours:null;b!==null;){switch(d!==null?(h=d,d=d.nextpeer):(h=b,b=b.nextpeer,d=b!==null?b.insideContours:null),h.dir){case s.CONTOUR_DIR.CW_DIR:g.strokeStyle="red";break;case s.CONTOUR_DIR.CCW_DIR:g.strokeStyle="blue";break;case s.CONTOUR_DIR.UNKNOWN_DIR:g.strokeStyle="green"}v=h.firstVertex,g.beginPath(),g.moveTo(v.x,v.y);do v=v.next,g.lineTo(v.x,v.y);while(v!==h.firstVertex);g.stroke()}}}}}};_.a=s},function(p,_,a){function e(s,c,i){var n=new s.Uint8Array(i),r=c.size|0,t=s.Math.imul;function o(y,x){y=y|0,x=x|0;var C=0,O=0,M=0,E=0,m=0,R=0,S=0,T=0;for(C=1;(C|0)<(r-1|0);C=C+1|0)for(T=T+r|0,O=1;(O|0)<(r-1|0);O=O+1|0)E=T-r|0,m=T+r|0,R=O-1|0,S=O+1|0,M=(n[y+E+R|0]|0)+(n[y+E+S|0]|0)+(n[y+T+O|0]|0)+(n[y+m+R|0]|0)+(n[y+m+S|0]|0)|0,(M|0)==5?n[x+T+O|0]=1:n[x+T+O|0]=0}function u(y,x,C){y=y|0,x=x|0,C=C|0;var O=0;for(O=t(r,r)|0;(O|0)>0;)O=O-1|0,n[C+O|0]=(n[y+O|0]|0)-(n[x+O|0]|0)|0}function f(y,x,C){y=y|0,x=x|0,C=C|0;var O=0;for(O=t(r,r)|0;(O|0)>0;)O=O-1|0,n[C+O|0]=n[y+O|0]|0|(n[x+O|0]|0)|0}function l(y){y=y|0;var x=0,C=0;for(C=t(r,r)|0;(C|0)>0;)C=C-1|0,x=(x|0)+(n[y+C|0]|0)|0;return x|0}function d(y,x){y=y|0,x=x|0;var C=0;for(C=t(r,r)|0;(C|0)>0;)C=C-1|0,n[y+C|0]=x}function h(y,x){y=y|0,x=x|0;var C=0,O=0,M=0,E=0,m=0,R=0,S=0,T=0;for(C=1;(C|0)<(r-1|0);C=C+1|0)for(T=T+r|0,O=1;(O|0)<(r-1|0);O=O+1|0)E=T-r|0,m=T+r|0,R=O-1|0,S=O+1|0,M=(n[y+E+R|0]|0)+(n[y+E+S|0]|0)+(n[y+T+O|0]|0)+(n[y+m+R|0]|0)+(n[y+m+S|0]|0)|0,(M|0)>0?n[x+T+O|0]=1:n[x+T+O|0]=0}function v(y,x){y=y|0,x=x|0;var C=0;for(C=t(r,r)|0;(C|0)>0;)C=C-1|0,n[x+C|0]=n[y+C|0]|0}function g(y){y=y|0;var x=0,C=0;for(x=0;(x|0)<(r-1|0);x=x+1|0)n[y+x|0]=0,n[y+C|0]=0,C=C+r-1|0,n[y+C|0]=0,C=C+1|0;for(x=0;(x|0)<(r|0);x=x+1|0)n[y+C|0]=0,C=C+1|0}function b(){var y=0,x=0,C=0,O=0,M=0,E=0;x=t(r,r)|0,C=x+x|0,O=C+x|0,d(O,0),g(y);do o(y,x),h(x,C),u(y,C,C),f(O,C,O),v(x,y),M=l(y)|0,E=(M|0)==0|0;while(!E)}return{skeletonize:b}}_.a=e},function(p,_,a){function e(t){s.a.call(this,t),this.barSpaceRatio=[1,1]}var s=a(1),c=1,i=3,n={START_PATTERN:{value:[i,c,i,c,c,c]},STOP_PATTERN:{value:[i,c,c,c,i]},CODE_PATTERN:{value:[[c,c,i,i,c],[i,c,c,c,i],[c,i,c,c,i],[i,i,c,c,c],[c,c,i,c,i],[i,c,i,c,c],[c,i,i,c,c],[c,c,c,i,i],[i,c,c,i,c],[c,i,c,i,c]]},SINGLE_CODE_ERROR:{value:.78,writable:!0},AVG_CODE_ERROR:{value:.3,writable:!0},FORMAT:{value:"2of5"}},r=n.START_PATTERN.value.reduce(function(t,o){return t+o},0);e.prototype=Object.create(s.a.prototype,n),e.prototype.constructor=e,e.prototype._findPattern=function(t,o,u,f){var l,d,h,v,g=[],b=this,y=0,x={error:Number.MAX_VALUE,code:-1,start:0,end:0},C=b.AVG_CODE_ERROR;for(u=u||!1,f=f||!1,o||(o=b._nextSet(b._row)),l=0;l<t.length;l++)g[l]=0;for(l=o;l<b._row.length;l++)if(b._row[l]^u)g[y]++;else{if(y===g.length-1){for(v=0,h=0;h<g.length;h++)v+=g[h];if((d=b._matchPattern(g,t))<C)return x.error=d,x.start=l-v,x.end=l,x;if(!f)return null;for(h=0;h<g.length-2;h++)g[h]=g[h+2];g[g.length-2]=0,g[g.length-1]=0,y--}else y++;g[y]=1,u=!u}return null},e.prototype._findStart=function(){for(var t,o,u=this,f=u._nextSet(u._row),l=1;!o;){if(!(o=u._findPattern(u.START_PATTERN,f,!1,!0)))return null;if(l=Math.floor((o.end-o.start)/r),(t=o.start-5*l)>=0&&u._matchRange(t,o.start,0))return o;f=o.end,o=null}},e.prototype._verifyTrailingWhitespace=function(t){var o,u=this;return o=t.end+(t.end-t.start)/2,o<u._row.length&&u._matchRange(t.end,o,0)?t:null},e.prototype._findEnd=function(){var t,o,u,f=this;return f._row.reverse(),u=f._nextSet(f._row),t=f._findPattern(f.STOP_PATTERN,u,!1,!0),f._row.reverse(),t===null?null:(o=t.start,t.start=f._row.length-t.end,t.end=f._row.length-o,t!==null?f._verifyTrailingWhitespace(t):null)},e.prototype._decodeCode=function(t){var o,u,f,l=this,d=0,h=l.AVG_CODE_ERROR,v={error:Number.MAX_VALUE,code:-1,start:0,end:0};for(o=0;o<t.length;o++)d+=t[o];for(f=0;f<l.CODE_PATTERN.length;f++)(u=l._matchPattern(t,l.CODE_PATTERN[f]))<v.error&&(v.code=f,v.error=u);if(v.error<h)return v},e.prototype._decodePayload=function(t,o,u){for(var f,l,d=this,h=0,v=t.length,g=[0,0,0,0,0];h<v;){for(f=0;f<5;f++)g[f]=t[h]*this.barSpaceRatio[0],h+=2;if(!(l=d._decodeCode(g)))return null;o.push(l.code+""),u.push(l)}return l},e.prototype._verifyCounterLength=function(t){return t.length%10==0},e.prototype._decode=function(){var t,o,u,f=this,l=[],d=[];return(t=f._findStart())?(d.push(t),(o=f._findEnd())?(u=f._fillCounters(t.end,o.start,!1),f._verifyCounterLength(u)&&f._decodePayload(u,l,d)?l.length<5?null:(d.push(o),{code:l.join(""),start:t.start,end:o.end,startInfo:t,decodedCodes:d}):null):null):null},_.a=e},function(p,_,a){function e(){s.a.call(this),this._counters=[]}var s=a(1),c={ALPHABETH_STRING:{value:"0123456789-$:/.+ABCD"},ALPHABET:{value:[48,49,50,51,52,53,54,55,56,57,45,36,58,47,46,43,65,66,67,68]},CHARACTER_ENCODINGS:{value:[3,6,9,96,18,66,33,36,48,72,12,24,69,81,84,21,26,41,11,14]},START_END:{value:[26,41,11,14]},MIN_ENCODED_CHARS:{value:4},MAX_ACCEPTABLE:{value:2},PADDING:{value:1.5},FORMAT:{value:"codabar",writeable:!1}};e.prototype=Object.create(s.a.prototype,c),e.prototype.constructor=e,e.prototype._decode=function(){var i,n,r,t,o,u=this,f=[];if(this._counters=u._fillCounters(),!(i=u._findStart()))return null;t=i.startCounter;do{if((r=u._toPattern(t))<0||(n=u._patternToChar(r))<0)return null;if(f.push(n),t+=8,f.length>1&&u._isStartEnd(r))break}while(t<u._counters.length);return f.length-2<u.MIN_ENCODED_CHARS||!u._isStartEnd(r)?null:u._verifyWhitespace(i.startCounter,t-8)&&u._validateResult(f,i.startCounter)?(t=t>u._counters.length?u._counters.length:t,o=i.start+u._sumCounters(i.startCounter,t-8),{code:f.join(""),start:i.start,end:o,startInfo:i,decodedCodes:f}):null},e.prototype._verifyWhitespace=function(i,n){return(i-1<=0||this._counters[i-1]>=this._calculatePatternLength(i)/2)&&(n+8>=this._counters.length||this._counters[n+7]>=this._calculatePatternLength(n)/2)},e.prototype._calculatePatternLength=function(i){var n,r=0;for(n=i;n<i+7;n++)r+=this._counters[n];return r},e.prototype._thresholdResultPattern=function(i,n){var r,t,o,u,f,l=this,d={space:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}},bar:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}}},h=n;for(o=0;o<i.length;o++){for(f=l._charToPattern(i[o]),u=6;u>=0;u--)r=(1&u)==2?d.bar:d.space,t=(1&f)==1?r.wide:r.narrow,t.size+=l._counters[h+u],t.counts++,f>>=1;h+=8}return["space","bar"].forEach(function(v){var g=d[v];g.wide.min=Math.floor((g.narrow.size/g.narrow.counts+g.wide.size/g.wide.counts)/2),g.narrow.max=Math.ceil(g.wide.min),g.wide.max=Math.ceil((g.wide.size*l.MAX_ACCEPTABLE+l.PADDING)/g.wide.counts)}),d},e.prototype._charToPattern=function(i){var n,r=this,t=i.charCodeAt(0);for(n=0;n<r.ALPHABET.length;n++)if(r.ALPHABET[n]===t)return r.CHARACTER_ENCODINGS[n];return 0},e.prototype._validateResult=function(i,n){var r,t,o,u,f,l,d=this,h=d._thresholdResultPattern(i,n),v=n;for(r=0;r<i.length;r++){for(l=d._charToPattern(i[r]),t=6;t>=0;t--){if(o=1&t?h.space:h.bar,u=(1&l)==1?o.wide:o.narrow,(f=d._counters[v+t])<u.min||f>u.max)return!1;l>>=1}v+=8}return!0},e.prototype._patternToChar=function(i){var n,r=this;for(n=0;n<r.CHARACTER_ENCODINGS.length;n++)if(r.CHARACTER_ENCODINGS[n]===i)return String.fromCharCode(r.ALPHABET[n]);return-1},e.prototype._computeAlternatingThreshold=function(i,n){var r,t,o=Number.MAX_VALUE,u=0;for(r=i;r<n;r+=2)t=this._counters[r],t>u&&(u=t),t<o&&(o=t);return(o+u)/2|0},e.prototype._toPattern=function(i){var n,r,t,o,u=7,f=i+u,l=1<<u-1,d=0;if(f>this._counters.length)return-1;for(n=this._computeAlternatingThreshold(i,f),r=this._computeAlternatingThreshold(i+1,f),t=0;t<u;t++)o=1&t?r:n,this._counters[i+t]>o&&(d|=l),l>>=1;return d},e.prototype._isStartEnd=function(i){var n;for(n=0;n<this.START_END.length;n++)if(this.START_END[n]===i)return!0;return!1},e.prototype._sumCounters=function(i,n){var r,t=0;for(r=i;r<n;r++)t+=this._counters[r];return t},e.prototype._findStart=function(){var i,n,r,t=this,o=t._nextUnset(t._row);for(i=1;i<this._counters.length;i++)if((n=t._toPattern(i))!==-1&&t._isStartEnd(n))return o+=t._sumCounters(0,i),r=o+t._sumCounters(i,i+8),{start:o,end:r,startCounter:i,endCounter:i+8}},_.a=e},function(p,_,a){function e(){c.a.call(this)}function s(n,r,t){for(var o=t.length,u=0,f=0;o--;)f+=n[t[o]],u+=r[t[o]];return f/u}var c=a(1),i={CODE_SHIFT:{value:98},CODE_C:{value:99},CODE_B:{value:100},CODE_A:{value:101},START_CODE_A:{value:103},START_CODE_B:{value:104},START_CODE_C:{value:105},STOP_CODE:{value:106},CODE_PATTERN:{value:[[2,1,2,2,2,2],[2,2,2,1,2,2],[2,2,2,2,2,1],[1,2,1,2,2,3],[1,2,1,3,2,2],[1,3,1,2,2,2],[1,2,2,2,1,3],[1,2,2,3,1,2],[1,3,2,2,1,2],[2,2,1,2,1,3],[2,2,1,3,1,2],[2,3,1,2,1,2],[1,1,2,2,3,2],[1,2,2,1,3,2],[1,2,2,2,3,1],[1,1,3,2,2,2],[1,2,3,1,2,2],[1,2,3,2,2,1],[2,2,3,2,1,1],[2,2,1,1,3,2],[2,2,1,2,3,1],[2,1,3,2,1,2],[2,2,3,1,1,2],[3,1,2,1,3,1],[3,1,1,2,2,2],[3,2,1,1,2,2],[3,2,1,2,2,1],[3,1,2,2,1,2],[3,2,2,1,1,2],[3,2,2,2,1,1],[2,1,2,1,2,3],[2,1,2,3,2,1],[2,3,2,1,2,1],[1,1,1,3,2,3],[1,3,1,1,2,3],[1,3,1,3,2,1],[1,1,2,3,1,3],[1,3,2,1,1,3],[1,3,2,3,1,1],[2,1,1,3,1,3],[2,3,1,1,1,3],[2,3,1,3,1,1],[1,1,2,1,3,3],[1,1,2,3,3,1],[1,3,2,1,3,1],[1,1,3,1,2,3],[1,1,3,3,2,1],[1,3,3,1,2,1],[3,1,3,1,2,1],[2,1,1,3,3,1],[2,3,1,1,3,1],[2,1,3,1,1,3],[2,1,3,3,1,1],[2,1,3,1,3,1],[3,1,1,1,2,3],[3,1,1,3,2,1],[3,3,1,1,2,1],[3,1,2,1,1,3],[3,1,2,3,1,1],[3,3,2,1,1,1],[3,1,4,1,1,1],[2,2,1,4,1,1],[4,3,1,1,1,1],[1,1,1,2,2,4],[1,1,1,4,2,2],[1,2,1,1,2,4],[1,2,1,4,2,1],[1,4,1,1,2,2],[1,4,1,2,2,1],[1,1,2,2,1,4],[1,1,2,4,1,2],[1,2,2,1,1,4],[1,2,2,4,1,1],[1,4,2,1,1,2],[1,4,2,2,1,1],[2,4,1,2,1,1],[2,2,1,1,1,4],[4,1,3,1,1,1],[2,4,1,1,1,2],[1,3,4,1,1,1],[1,1,1,2,4,2],[1,2,1,1,4,2],[1,2,1,2,4,1],[1,1,4,2,1,2],[1,2,4,1,1,2],[1,2,4,2,1,1],[4,1,1,2,1,2],[4,2,1,1,1,2],[4,2,1,2,1,1],[2,1,2,1,4,1],[2,1,4,1,2,1],[4,1,2,1,2,1],[1,1,1,1,4,3],[1,1,1,3,4,1],[1,3,1,1,4,1],[1,1,4,1,1,3],[1,1,4,3,1,1],[4,1,1,1,1,3],[4,1,1,3,1,1],[1,1,3,1,4,1],[1,1,4,1,3,1],[3,1,1,1,4,1],[4,1,1,1,3,1],[2,1,1,4,1,2],[2,1,1,2,1,4],[2,1,1,2,3,2],[2,3,3,1,1,1,2]]},SINGLE_CODE_ERROR:{value:.64},AVG_CODE_ERROR:{value:.3},FORMAT:{value:"code_128",writeable:!1},MODULE_INDICES:{value:{bar:[0,2,4],space:[1,3,5]}}};e.prototype=Object.create(c.a.prototype,i),e.prototype.constructor=e,e.prototype._decodeCode=function(n,r){var t,o,u,f=[0,0,0,0,0,0],l=this,d=n,h=!l._row[d],v=0,g={error:Number.MAX_VALUE,code:-1,start:n,end:n,correction:{bar:1,space:1}};for(t=d;t<l._row.length;t++)if(l._row[t]^h)f[v]++;else{if(v===f.length-1){for(r&&l._correct(f,r),o=0;o<l.CODE_PATTERN.length;o++)(u=l._matchPattern(f,l.CODE_PATTERN[o]))<g.error&&(g.code=o,g.error=u);return g.end=t,g.code===-1||g.error>l.AVG_CODE_ERROR?null:(l.CODE_PATTERN[g.code]&&(g.correction.bar=s(l.CODE_PATTERN[g.code],f,this.MODULE_INDICES.bar),g.correction.space=s(l.CODE_PATTERN[g.code],f,this.MODULE_INDICES.space)),g)}v++,f[v]=1,h=!h}return null},e.prototype._correct=function(n,r){this._correctBars(n,r.bar,this.MODULE_INDICES.bar),this._correctBars(n,r.space,this.MODULE_INDICES.space)},e.prototype._findStart=function(){var n,r,t,o,u,f=[0,0,0,0,0,0],l=this,d=l._nextSet(l._row),h=!1,v=0,g={error:Number.MAX_VALUE,code:-1,start:0,end:0,correction:{bar:1,space:1}};for(n=d;n<l._row.length;n++)if(l._row[n]^h)f[v]++;else{if(v===f.length-1){for(u=0,o=0;o<f.length;o++)u+=f[o];for(r=l.START_CODE_A;r<=l.START_CODE_C;r++)(t=l._matchPattern(f,l.CODE_PATTERN[r]))<g.error&&(g.code=r,g.error=t);if(g.error<l.AVG_CODE_ERROR)return g.start=n-u,g.end=n,g.correction.bar=s(l.CODE_PATTERN[g.code],f,this.MODULE_INDICES.bar),g.correction.space=s(l.CODE_PATTERN[g.code],f,this.MODULE_INDICES.space),g;for(o=0;o<4;o++)f[o]=f[o+2];f[4]=0,f[5]=0,v--}else v++;f[v]=1,h=!h}return null},e.prototype._decode=function(){var n,r,t=this,o=t._findStart(),u=null,f=!1,l=[],d=0,h=0,v=[],g=[],b=!1,y=!0;if(o===null)return null;switch(u={code:o.code,start:o.start,end:o.end,correction:{bar:o.correction.bar,space:o.correction.space}},g.push(u),h=u.code,u.code){case t.START_CODE_A:n=t.CODE_A;break;case t.START_CODE_B:n=t.CODE_B;break;case t.START_CODE_C:n=t.CODE_C;break;default:return null}for(;!f;){if(r=b,b=!1,(u=t._decodeCode(u.end,u.correction))!==null)switch(u.code!==t.STOP_CODE&&(y=!0),u.code!==t.STOP_CODE&&(v.push(u.code),d++,h+=d*u.code),g.push(u),n){case t.CODE_A:if(u.code<64)l.push(String.fromCharCode(32+u.code));else if(u.code<96)l.push(String.fromCharCode(u.code-64));else switch(u.code!==t.STOP_CODE&&(y=!1),u.code){case t.CODE_SHIFT:b=!0,n=t.CODE_B;break;case t.CODE_B:n=t.CODE_B;break;case t.CODE_C:n=t.CODE_C;break;case t.STOP_CODE:f=!0}break;case t.CODE_B:if(u.code<96)l.push(String.fromCharCode(32+u.code));else switch(u.code!==t.STOP_CODE&&(y=!1),u.code){case t.CODE_SHIFT:b=!0,n=t.CODE_A;break;case t.CODE_A:n=t.CODE_A;break;case t.CODE_C:n=t.CODE_C;break;case t.STOP_CODE:f=!0}break;case t.CODE_C:if(u.code<100)l.push(u.code<10?"0"+u.code:u.code);else switch(u.code!==t.STOP_CODE&&(y=!1),u.code){case t.CODE_A:n=t.CODE_A;break;case t.CODE_B:n=t.CODE_B;break;case t.STOP_CODE:f=!0}}else f=!0;r&&(n=n===t.CODE_A?t.CODE_B:t.CODE_A)}return u===null?null:(u.end=t._nextUnset(t._row,u.end),t._verifyTrailingWhitespace(u)?(h-=d*v[v.length-1])%103!==v[v.length-1]?null:l.length?(y&&l.splice(l.length-1,1),{code:l.join(""),start:o.start,end:u.end,codeset:n,startInfo:o,decodedCodes:g,endInfo:u}):null:null)},c.a.prototype._verifyTrailingWhitespace=function(n){var r,t=this;return r=n.end+(n.end-n.start)/2,r<t._row.length&&t._matchRange(n.end,r,0)?n:null},_.a=e},function(p,_,a){function e(){s.a.call(this)}var s=a(31),c={IOQ:/[IOQ]/g,AZ09:/[A-Z0-9]{17}/};e.prototype=Object.create(s.a.prototype),e.prototype.constructor=e,e.prototype._decode=function(){var i=s.a.prototype._decode.apply(this);if(!i)return null;var n=i.code;return n?(n=n.replace(c.IOQ,""),n.match(c.AZ09)&&this._checkChecksum(n)?(i.code=n,i):null):null},e.prototype._checkChecksum=function(i){return!!i},_.a=e},function(p,_,a){function e(){s.a.call(this)}var s=a(1),c=a(3),i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",n={ALPHABETH_STRING:{value:i},ALPHABET:{value:i.split("").map(function(r){return r.charCodeAt(0)})},CHARACTER_ENCODINGS:{value:[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350]},ASTERISK:{value:350},FORMAT:{value:"code_93",writeable:!1}};e.prototype=Object.create(s.a.prototype,n),e.prototype.constructor=e,e.prototype._decode=function(){var r,t,o,u,f=this,l=[0,0,0,0,0,0],d=[],h=f._findStart();if(!h)return null;u=f._nextSet(f._row,h.end);do{if(l=f._toCounters(u,l),(o=f._toPattern(l))<0||(r=f._patternToChar(o))<0)return null;d.push(r),t=u,u+=c.a.sum(l),u=f._nextSet(f._row,u)}while(r!=="*");return d.pop(),d.length&&f._verifyEnd(t,u,l)&&f._verifyChecksums(d)?(d=d.slice(0,d.length-2),(d=f._decodeExtended(d))===null?null:{code:d.join(""),start:h.start,end:u,startInfo:h,decodedCodes:d}):null},e.prototype._verifyEnd=function(r,t){return!(r===t||!this._row[t])},e.prototype._patternToChar=function(r){var t,o=this;for(t=0;t<o.CHARACTER_ENCODINGS.length;t++)if(o.CHARACTER_ENCODINGS[t]===r)return String.fromCharCode(o.ALPHABET[t]);return-1},e.prototype._toPattern=function(r){for(var t=r.length,o=0,u=0,f=0;f<t;f++)u+=r[f];for(var l=0;l<t;l++){var d=Math.round(9*r[l]/u);if(d<1||d>4)return-1;if(1&l)o<<=d;else for(var h=0;h<d;h++)o=o<<1|1}return o},e.prototype._findStart=function(){var r,t,o,u=this,f=u._nextSet(u._row),l=f,d=[0,0,0,0,0,0],h=0,v=!1;for(r=f;r<u._row.length;r++)if(u._row[r]^v)d[h]++;else{if(h===d.length-1){if(u._toPattern(d)===u.ASTERISK&&(o=Math.floor(Math.max(0,l-(r-l)/4)),u._matchRange(o,l,0)))return{start:l,end:r};for(l+=d[0]+d[1],t=0;t<4;t++)d[t]=d[t+2];d[4]=0,d[5]=0,h--}else h++;d[h]=1,v=!v}return null},e.prototype._decodeExtended=function(r){for(var t=r.length,o=[],u=0;u<t;u++){var f=r[u];if(f>="a"&&f<="d"){if(u>t-2)return null;var l=r[++u],d=l.charCodeAt(0),h=void 0;switch(f){case"a":if(!(l>="A"&&l<="Z"))return null;h=String.fromCharCode(d-64);break;case"b":if(l>="A"&&l<="E")h=String.fromCharCode(d-38);else if(l>="F"&&l<="J")h=String.fromCharCode(d-11);else if(l>="K"&&l<="O")h=String.fromCharCode(d+16);else if(l>="P"&&l<="S")h=String.fromCharCode(d+43);else{if(!(l>="T"&&l<="Z"))return null;h=String.fromCharCode(127)}break;case"c":if(l>="A"&&l<="O")h=String.fromCharCode(d-32);else{if(l!=="Z")return null;h=":"}break;case"d":if(!(l>="A"&&l<="Z"))return null;h=String.fromCharCode(d+32)}o.push(h)}else o.push(f)}return o},e.prototype._verifyChecksums=function(r){return this._matchCheckChar(r,r.length-2,20)&&this._matchCheckChar(r,r.length-1,15)},e.prototype._matchCheckChar=function(r,t,o){var u=this,f=r.slice(0,t),l=f.length,d=f.reduce(function(h,v,g){return h+((g*-1+(l-1))%o+1)*u.ALPHABET.indexOf(v.charCodeAt(0))},0);return this.ALPHABET[d%47]===r[t].charCodeAt(0)},_.a=e},function(p,_,a){function e(){s.a.call(this)}var s=a(4),c={FORMAT:{value:"ean_2",writeable:!1}};e.prototype=Object.create(s.a.prototype,c),e.prototype.constructor=e,e.prototype.decode=function(i,n){this._row=i;var r,t=0,o=0,u=n,f=this._row.length,l=[],d=[];for(o=0;o<2&&u<f;o++){if(!(r=this._decodeCode(u)))return null;d.push(r),l.push(r.code%10),r.code>=this.CODE_G_START&&(t|=1<<1-o),o!=1&&(u=this._nextSet(this._row,r.end),u=this._nextUnset(this._row,u))}return l.length!=2||parseInt(l.join(""))%4!==t?null:{code:l.join(""),decodedCodes:d,end:r.end}},_.a=e},function(p,_,a){function e(){i.a.call(this)}function s(t){var o;for(o=0;o<10;o++)if(t===r[o])return o;return null}function c(t){var o,u=t.length,f=0;for(o=u-2;o>=0;o-=2)f+=t[o];for(f*=3,o=u-1;o>=0;o-=2)f+=t[o];return(f*=3)%10}var i=a(4),n={FORMAT:{value:"ean_5",writeable:!1}},r=[24,20,18,17,12,6,3,10,9,5];e.prototype=Object.create(i.a.prototype,n),e.prototype.constructor=e,e.prototype.decode=function(t,o){this._row=t;var u,f=0,l=0,d=o,h=this._row.length,v=[],g=[];for(l=0;l<5&&d<h;l++){if(!(u=this._decodeCode(d)))return null;g.push(u),v.push(u.code%10),u.code>=this.CODE_G_START&&(f|=1<<4-l),l!=4&&(d=this._nextSet(this._row,u.end),d=this._nextUnset(this._row,d))}return v.length!=5||c(v)!==s(f)?null:{code:v.join(""),decodedCodes:g,end:u.end}},_.a=e},function(p,_,a){function e(i,n){s.a.call(this,i,n)}var s=a(4),c={FORMAT:{value:"ean_8",writeable:!1}};e.prototype=Object.create(s.a.prototype,c),e.prototype.constructor=e,e.prototype._decodePayload=function(i,n,r){var t,o=this;for(t=0;t<4;t++){if(!(i=o._decodeCode(i.end,o.CODE_G_START)))return null;n.push(i.code),r.push(i)}if((i=o._findPattern(o.MIDDLE_PATTERN,i.end,!0,!1))===null)return null;for(r.push(i),t=0;t<4;t++){if(!(i=o._decodeCode(i.end,o.CODE_G_START)))return null;r.push(i),n.push(i.code)}return i},_.a=e},function(p,_,a){function e(u){u=i()(s(),u),n.a.call(this,u),this.barSpaceRatio=[1,1],u.normalizeBarSpaceWidth&&(this.SINGLE_CODE_ERROR=.38,this.AVG_CODE_ERROR=.09)}function s(){var u={};return Object.keys(e.CONFIG_KEYS).forEach(function(f){u[f]=e.CONFIG_KEYS[f].default}),u}var c=a(28),i=a.n(c),n=a(1),r=1,t=3,o={START_PATTERN:{value:[r,r,r,r]},STOP_PATTERN:{value:[r,r,t]},CODE_PATTERN:{value:[[r,r,t,t,r],[t,r,r,r,t],[r,t,r,r,t],[t,t,r,r,r],[r,r,t,r,t],[t,r,t,r,r],[r,t,t,r,r],[r,r,r,t,t],[t,r,r,t,r],[r,t,r,t,r]]},SINGLE_CODE_ERROR:{value:.78,writable:!0},AVG_CODE_ERROR:{value:.38,writable:!0},MAX_CORRECTION_FACTOR:{value:5},FORMAT:{value:"i2of5"}};e.prototype=Object.create(n.a.prototype,o),e.prototype.constructor=e,e.prototype._matchPattern=function(u,f){if(this.config.normalizeBarSpaceWidth){var l,d=[0,0],h=[0,0],v=[0,0],g=this.MAX_CORRECTION_FACTOR,b=1/g;for(l=0;l<u.length;l++)d[l%2]+=u[l],h[l%2]+=f[l];for(v[0]=h[0]/d[0],v[1]=h[1]/d[1],v[0]=Math.max(Math.min(v[0],g),b),v[1]=Math.max(Math.min(v[1],g),b),this.barSpaceRatio=v,l=0;l<u.length;l++)u[l]*=this.barSpaceRatio[l%2]}return n.a.prototype._matchPattern.call(this,u,f)},e.prototype._findPattern=function(u,f,l,d){var h,v,g,b,y=[],x=this,C=0,O={error:Number.MAX_VALUE,code:-1,start:0,end:0},M=x.AVG_CODE_ERROR;for(l=l||!1,d=d||!1,f||(f=x._nextSet(x._row)),h=0;h<u.length;h++)y[h]=0;for(h=f;h<x._row.length;h++)if(x._row[h]^l)y[C]++;else{if(C===y.length-1){for(b=0,g=0;g<y.length;g++)b+=y[g];if((v=x._matchPattern(y,u))<M)return O.error=v,O.start=h-b,O.end=h,O;if(!d)return null;for(g=0;g<y.length-2;g++)y[g]=y[g+2];y[y.length-2]=0,y[y.length-1]=0,C--}else C++;y[C]=1,l=!l}return null},e.prototype._findStart=function(){for(var u,f,l=this,d=l._nextSet(l._row),h=1;!f;){if(!(f=l._findPattern(l.START_PATTERN,d,!1,!0)))return null;if(h=Math.floor((f.end-f.start)/4),(u=f.start-10*h)>=0&&l._matchRange(u,f.start,0))return f;d=f.end,f=null}},e.prototype._verifyTrailingWhitespace=function(u){var f,l=this;return f=u.end+(u.end-u.start)/2,f<l._row.length&&l._matchRange(u.end,f,0)?u:null},e.prototype._findEnd=function(){var u,f,l=this;return l._row.reverse(),u=l._findPattern(l.STOP_PATTERN),l._row.reverse(),u===null?null:(f=u.start,u.start=l._row.length-u.end,u.end=l._row.length-f,u!==null?l._verifyTrailingWhitespace(u):null)},e.prototype._decodePair=function(u){var f,l,d=[],h=this;for(f=0;f<u.length;f++){if(!(l=h._decodeCode(u[f])))return null;d.push(l)}return d},e.prototype._decodeCode=function(u){var f,l,d,h=this,v=0,g=h.AVG_CODE_ERROR,b={error:Number.MAX_VALUE,code:-1,start:0,end:0};for(f=0;f<u.length;f++)v+=u[f];for(d=0;d<h.CODE_PATTERN.length;d++)(l=h._matchPattern(u,h.CODE_PATTERN[d]))<b.error&&(b.code=d,b.error=l);if(b.error<g)return b},e.prototype._decodePayload=function(u,f,l){for(var d,h,v=this,g=0,b=u.length,y=[[0,0,0,0,0],[0,0,0,0,0]];g<b;){for(d=0;d<5;d++)y[0][d]=u[g]*this.barSpaceRatio[0],y[1][d]=u[g+1]*this.barSpaceRatio[1],g+=2;if(!(h=v._decodePair(y)))return null;for(d=0;d<h.length;d++)f.push(h[d].code+""),l.push(h[d])}return h},e.prototype._verifyCounterLength=function(u){return u.length%10==0},e.prototype._decode=function(){var u,f,l,d=this,h=[],v=[];return(u=d._findStart())?(v.push(u),(f=d._findEnd())?(l=d._fillCounters(u.end,f.start,!1),d._verifyCounterLength(l)&&d._decodePayload(l,h,v)?h.length%2!=0||h.length<6?null:(v.push(f),{code:h.join(""),start:u.start,end:f.end,startInfo:u,decodedCodes:v}):null):null):null},e.CONFIG_KEYS={normalizeBarSpaceWidth:{type:"boolean",default:!1,description:"If true, the reader tries to normalize thewidth-difference between bars and spaces"}},_.a=e},function(p,_,a){function e(i,n){s.a.call(this,i,n)}var s=a(4),c={CODE_FREQUENCY:{value:[[56,52,50,49,44,38,35,42,41,37],[7,11,13,14,19,25,28,21,22,26]]},STOP_PATTERN:{value:[1/6*7,1/6*7,1/6*7,1/6*7,1/6*7,1/6*7]},FORMAT:{value:"upc_e",writeable:!1}};e.prototype=Object.create(s.a.prototype,c),e.prototype.constructor=e,e.prototype._decodePayload=function(i,n,r){var t,o=this,u=0;for(t=0;t<6;t++){if(!(i=o._decodeCode(i.end)))return null;i.code>=o.CODE_G_START&&(i.code=i.code-o.CODE_G_START,u|=1<<5-t),n.push(i.code),r.push(i)}return o._determineParity(u,n)?i:null},e.prototype._determineParity=function(i,n){var r,t;for(t=0;t<this.CODE_FREQUENCY.length;t++)for(r=0;r<this.CODE_FREQUENCY[t].length;r++)if(i===this.CODE_FREQUENCY[t][r])return n.unshift(t),n.push(r),!0;return!1},e.prototype._convertToUPCA=function(i){var n=[i[0]],r=i[i.length-2];return n=r<=2?n.concat(i.slice(1,3)).concat([r,0,0,0,0]).concat(i.slice(3,6)):r===3?n.concat(i.slice(1,4)).concat([0,0,0,0,0]).concat(i.slice(4,6)):r===4?n.concat(i.slice(1,5)).concat([0,0,0,0,0,i[5]]):n.concat(i.slice(1,6)).concat([0,0,0,0,r]),n.push(i[i.length-1]),n},e.prototype._checksum=function(i){return s.a.prototype._checksum.call(this,this._convertToUPCA(i))},e.prototype._findEnd=function(i,n){return n=!0,s.a.prototype._findEnd.call(this,i,n)},e.prototype._verifyTrailingWhitespace=function(i){var n,r=this;if((n=i.end+(i.end-i.start)/2)<r._row.length&&r._matchRange(i.end,n,0))return i},_.a=e},function(p,_,a){function e(i,n){s.a.call(this,i,n)}var s=a(4),c={FORMAT:{value:"upc_a",writeable:!1}};e.prototype=Object.create(s.a.prototype,c),e.prototype.constructor=e,e.prototype._decode=function(){var i=s.a.prototype._decode.call(this);return i&&i.code&&i.code.length===13&&i.code.charAt(0)==="0"?(i.code=i.code.substring(1),i):null},_.a=e},function(p,_){function a(e,s){return e[0]=s[0],e[1]=s[1],e[2]=s[2],e[3]=s[3],e}p.exports=a},function(p,_){function a(){var e=new Float32Array(4);return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e}p.exports=a},function(p,_){function a(e,s){var c=s[0],i=s[1],n=s[2],r=s[3],t=c*r-n*i;return t?(t=1/t,e[0]=r*t,e[1]=-i*t,e[2]=-n*t,e[3]=c*t,e):null}p.exports=a},function(p,_){function a(e,s,c){return e[0]=s[0]*c,e[1]=s[1]*c,e}p.exports=a},function(p,_){function a(e,s,c){var i=s[0],n=s[1];return e[0]=c[0]*i+c[2]*n,e[1]=c[1]*i+c[3]*n,e}p.exports=a},function(p,_){function a(e){var s=new Float32Array(3);return s[0]=e[0],s[1]=e[1],s[2]=e[2],s}p.exports=a},function(p,_,a){function e(t){var o=-1,u=t==null?0:t.length;for(this.clear();++o<u;){var f=t[o];this.set(f[0],f[1])}}var s=a(122),c=a(123),i=a(124),n=a(125),r=a(126);e.prototype.clear=s,e.prototype.delete=c,e.prototype.get=i,e.prototype.has=n,e.prototype.set=r,p.exports=e},function(p,_,a){function e(o){var u=this.__data__=new s(o);this.size=u.size}var s=a(10),c=a(149),i=a(150),n=a(151),r=a(152),t=a(153);e.prototype.clear=c,e.prototype.delete=i,e.prototype.get=n,e.prototype.has=r,e.prototype.set=t,p.exports=e},function(p,_,a){var e=a(5),s=e.Uint8Array;p.exports=s},function(p,_){function a(e,s,c){switch(c.length){case 0:return e.call(s);case 1:return e.call(s,c[0]);case 2:return e.call(s,c[0],c[1]);case 3:return e.call(s,c[0],c[1],c[2])}return e.apply(s,c)}p.exports=a},function(p,_,a){function e(f,l){var d=i(f),h=!d&&c(f),v=!d&&!h&&n(f),g=!d&&!h&&!v&&t(f),b=d||h||v||g,y=b?s(f.length,String):[],x=y.length;for(var C in f)!l&&!u.call(f,C)||b&&(C=="length"||v&&(C=="offset"||C=="parent")||g&&(C=="buffer"||C=="byteLength"||C=="byteOffset")||r(C,x))||y.push(C);return y}var s=a(107),c=a(18),i=a(2),n=a(44),r=a(15),t=a(45),o=Object.prototype,u=o.hasOwnProperty;p.exports=e},function(p,_){function a(e,s){for(var c=-1,i=e==null?0:e.length,n=Array(i);++c<i;)n[c]=s(e[c],c,e);return n}p.exports=a},function(p,_){function a(e,s){for(var c=-1,i=s.length,n=e.length;++c<i;)e[n+c]=s[c];return e}p.exports=a},function(p,_,a){var e=a(0),s=Object.create,c=function(){function i(){}return function(n){if(!e(n))return{};if(s)return s(n);i.prototype=n;var r=new i;return i.prototype=void 0,r}}();p.exports=c},function(p,_,a){function e(i,n,r,t,o){var u=-1,f=i.length;for(r||(r=c),o||(o=[]);++u<f;){var l=i[u];n>0&&r(l)?n>1?e(l,n-1,r,t,o):s(o,l):t||(o[o.length]=l)}return o}var s=a(90),c=a(128);p.exports=e},function(p,_,a){var e=a(117),s=e();p.exports=s},function(p,_,a){function e(i,n){n=s(n,i);for(var r=0,t=n.length;i!=null&&r<t;)i=i[c(n[r++])];return r&&r==t?i:void 0}var s=a(13),c=a(23);p.exports=e},function(p,_){function a(e,s){return e!=null&&s in Object(e)}p.exports=a},function(p,_,a){function e(n){return c(n)&&s(n)==i}var s=a(8),c=a(6),i="[object Arguments]";p.exports=e},function(p,_,a){function e(h){return!(!i(h)||c(h))&&(s(h)?d:t).test(n(h))}var s=a(25),c=a(132),i=a(0),n=a(155),r=/[\\^$.*+?()[\]{}|]/g,t=/^\[object .+?Constructor\]$/,o=Function.prototype,u=Object.prototype,f=o.toString,l=u.hasOwnProperty,d=RegExp("^"+f.call(l).replace(r,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");p.exports=e},function(p,_,a){function e(r){return i(r)&&c(r.length)&&!!n[s(r)]}var s=a(8),c=a(26),i=a(6),n={};n["[object Float32Array]"]=n["[object Float64Array]"]=n["[object Int8Array]"]=n["[object Int16Array]"]=n["[object Int32Array]"]=n["[object Uint8Array]"]=n["[object Uint8ClampedArray]"]=n["[object Uint16Array]"]=n["[object Uint32Array]"]=!0,n["[object Arguments]"]=n["[object Array]"]=n["[object ArrayBuffer]"]=n["[object Boolean]"]=n["[object DataView]"]=n["[object Date]"]=n["[object Error]"]=n["[object Function]"]=n["[object Map]"]=n["[object Number]"]=n["[object Object]"]=n["[object RegExp]"]=n["[object Set]"]=n["[object String]"]=n["[object WeakMap]"]=!1,p.exports=e},function(p,_,a){function e(t){if(!s(t))return i(t);var o=c(t),u=[];for(var f in t)(f!="constructor"||!o&&r.call(t,f))&&u.push(f);return u}var s=a(0),c=a(40),i=a(144),n=Object.prototype,r=n.hasOwnProperty;p.exports=e},function(p,_,a){function e(o,u,f,l,d){o!==u&&i(u,function(h,v){if(r(h))d||(d=new s),n(o,u,v,f,e,l,d);else{var g=l?l(o[v],h,v+"",o,u,d):void 0;g===void 0&&(g=h),c(o,v,g)}},t)}var s=a(85),c=a(35),i=a(93),n=a(101),r=a(0),t=a(46);p.exports=e},function(p,_,a){function e(b,y,x,C,O,M,E){var m=b[x],R=y[x],S=E.get(R);if(S)return void s(b,x,S);var T=M?M(m,R,x+"",b,y,E):void 0,A=T===void 0;if(A){var D=o(R),I=!D&&f(R),N=!D&&!I&&v(R);T=R,D||I||N?o(m)?T=m:u(m)?T=n(m):I?(A=!1,T=c(R,!0)):N?(A=!1,T=i(R,!0)):T=[]:h(R)||t(R)?(T=m,t(m)?T=g(m):(!d(m)||C&&l(m))&&(T=r(R))):A=!1}A&&(E.set(R,T),O(T,R,C,M,E),E.delete(R)),s(b,x,T)}var s=a(35),c=a(111),i=a(112),n=a(113),r=a(127),t=a(18),o=a(2),u=a(159),f=a(44),l=a(25),d=a(0),h=a(160),v=a(45),g=a(164);p.exports=e},function(p,_,a){function e(i,n){return s(i,n,function(r,t){return c(i,t)})}var s=a(103),c=a(158);p.exports=e},function(p,_,a){function e(n,r,t){for(var o=-1,u=r.length,f={};++o<u;){var l=r[o],d=s(n,l);t(d,l)&&c(f,i(l,n),d)}return f}var s=a(94),c=a(105),i=a(13);p.exports=e},function(p,_,a){function e(n,r){return i(c(n,r,s),n+"")}var s=a(43),c=a(41),i=a(42);p.exports=e},function(p,_,a){function e(t,o,u,f){if(!n(t))return t;o=c(o,t);for(var l=-1,d=o.length,h=d-1,v=t;v!=null&&++l<d;){var g=r(o[l]),b=u;if(l!=h){var y=v[g];b=f?f(y,g,v):void 0,b===void 0&&(b=n(y)?y:i(o[l+1])?[]:{})}s(v,g,b),v=v[g]}return t}var s=a(36),c=a(13),i=a(15),n=a(0),r=a(23);p.exports=e},function(p,_,a){var e=a(156),s=a(37),c=a(43),i=s?function(n,r){return s(n,"toString",{configurable:!0,enumerable:!1,value:e(r),writable:!0})}:c;p.exports=i},function(p,_){function a(e,s){for(var c=-1,i=Array(e);++c<e;)i[c]=s(c);return i}p.exports=a},function(p,_,a){function e(u){if(typeof u=="string")return u;if(i(u))return c(u,e)+"";if(n(u))return o?o.call(u):"";var f=u+"";return f=="0"&&1/u==-r?"-0":f}var s=a(11),c=a(89),i=a(2),n=a(27),r=1/0,t=s?s.prototype:void 0,o=t?t.toString:void 0;p.exports=e},function(p,_){function a(e){return function(s){return e(s)}}p.exports=a},function(p,_,a){function e(c){var i=new c.constructor(c.byteLength);return new s(i).set(new s(c)),i}var s=a(86);p.exports=e},function(p,_,a){(function(e){function s(u,f){if(f)return u.slice();var l=u.length,d=o?o(l):new u.constructor(l);return u.copy(d),d}var c=a(5),i=typeof _=="object"&&_&&!_.nodeType&&_,n=i&&typeof e=="object"&&e&&!e.nodeType&&e,r=n&&n.exports===i,t=r?c.Buffer:void 0,o=t?t.allocUnsafe:void 0;e.exports=s}).call(_,a(29)(p))},function(p,_,a){function e(c,i){var n=i?s(c.buffer):c.buffer;return new c.constructor(n,c.byteOffset,c.length)}var s=a(110);p.exports=e},function(p,_){function a(e,s){var c=-1,i=e.length;for(s||(s=Array(i));++c<i;)s[c]=e[c];return s}p.exports=a},function(p,_,a){function e(i,n,r,t){var o=!r;r||(r={});for(var u=-1,f=n.length;++u<f;){var l=n[u],d=t?t(r[l],i[l],l,r,i):void 0;d===void 0&&(d=i[l]),o?c(r,l,d):s(r,l,d)}return r}var s=a(36),c=a(21);p.exports=e},function(p,_,a){var e=a(5),s=e["__core-js_shared__"];p.exports=s},function(p,_,a){function e(i){return s(function(n,r){var t=-1,o=r.length,u=o>1?r[o-1]:void 0,f=o>2?r[2]:void 0;for(u=i.length>3&&typeof u=="function"?(o--,u):void 0,f&&c(r[0],r[1],f)&&(u=o<3?void 0:u,o=1),n=Object(n);++t<o;){var l=r[t];l&&i(n,l,t,u)}return n})}var s=a(104),c=a(129);p.exports=e},function(p,_){function a(e){return function(s,c,i){for(var n=-1,r=Object(s),t=i(s),o=t.length;o--;){var u=t[e?o:++n];if(c(r[u],u,r)===!1)break}return s}}p.exports=a},function(p,_,a){function e(n){return i(c(n,void 0,s),n+"")}var s=a(157),c=a(41),i=a(42);p.exports=e},function(p,_,a){function e(t){var o=i.call(t,r),u=t[r];try{t[r]=void 0;var f=!0}catch{}var l=n.call(t);return f&&(o?t[r]=u:delete t[r]),l}var s=a(11),c=Object.prototype,i=c.hasOwnProperty,n=c.toString,r=s?s.toStringTag:void 0;p.exports=e},function(p,_){function a(e,s){return e==null?void 0:e[s]}p.exports=a},function(p,_,a){function e(o,u,f){u=s(u,o);for(var l=-1,d=u.length,h=!1;++l<d;){var v=t(u[l]);if(!(h=o!=null&&f(o,v)))break;o=o[v]}return h||++l!=d?h:!!(d=o==null?0:o.length)&&r(d)&&n(v,d)&&(i(o)||c(o))}var s=a(13),c=a(18),i=a(2),n=a(15),r=a(26),t=a(23);p.exports=e},function(p,_,a){function e(){this.__data__=s?s(null):{},this.size=0}var s=a(16);p.exports=e},function(p,_){function a(e){var s=this.has(e)&&delete this.__data__[e];return this.size-=s?1:0,s}p.exports=a},function(p,_,a){function e(r){var t=this.__data__;if(s){var o=t[r];return o===c?void 0:o}return n.call(t,r)?t[r]:void 0}var s=a(16),c="__lodash_hash_undefined__",i=Object.prototype,n=i.hasOwnProperty;p.exports=e},function(p,_,a){function e(n){var r=this.__data__;return s?r[n]!==void 0:i.call(r,n)}var s=a(16),c=Object.prototype,i=c.hasOwnProperty;p.exports=e},function(p,_,a){function e(i,n){var r=this.__data__;return this.size+=this.has(i)?0:1,r[i]=s&&n===void 0?c:n,this}var s=a(16),c="__lodash_hash_undefined__";p.exports=e},function(p,_,a){function e(n){return typeof n.constructor!="function"||i(n)?{}:s(c(n))}var s=a(91),c=a(39),i=a(40);p.exports=e},function(p,_,a){function e(r){return i(r)||c(r)||!!(n&&r&&r[n])}var s=a(11),c=a(18),i=a(2),n=s?s.isConcatSpreadable:void 0;p.exports=e},function(p,_,a){function e(r,t,o){if(!n(o))return!1;var u=typeof t;return!!(u=="number"?c(o)&&i(t,o.length):u=="string"&&t in o)&&s(o[t],r)}var s=a(17),c=a(24),i=a(15),n=a(0);p.exports=e},function(p,_,a){function e(r,t){if(s(r))return!1;var o=typeof r;return!(o!="number"&&o!="symbol"&&o!="boolean"&&r!=null&&!c(r))||n.test(r)||!i.test(r)||t!=null&&r in Object(t)}var s=a(2),c=a(27),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;p.exports=e},function(p,_){function a(e){var s=typeof e;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?e!=="__proto__":e===null}p.exports=a},function(p,_,a){function e(i){return!!c&&c in i}var s=a(115),c=function(){var i=/[^.]+$/.exec(s&&s.keys&&s.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}();p.exports=e},function(p,_){function a(){this.__data__=[],this.size=0}p.exports=a},function(p,_,a){function e(n){var r=this.__data__,t=s(r,n);return!(t<0)&&(t==r.length-1?r.pop():i.call(r,t,1),--this.size,!0)}var s=a(12),c=Array.prototype,i=c.splice;p.exports=e},function(p,_,a){function e(c){var i=this.__data__,n=s(i,c);return n<0?void 0:i[n][1]}var s=a(12);p.exports=e},function(p,_,a){function e(c){return s(this.__data__,c)>-1}var s=a(12);p.exports=e},function(p,_,a){function e(c,i){var n=this.__data__,r=s(n,c);return r<0?(++this.size,n.push([c,i])):n[r][1]=i,this}var s=a(12);p.exports=e},function(p,_,a){function e(){this.size=0,this.__data__={hash:new s,map:new(i||c),string:new s}}var s=a(84),c=a(10),i=a(33);p.exports=e},function(p,_,a){function e(c){var i=s(this,c).delete(c);return this.size-=i?1:0,i}var s=a(14);p.exports=e},function(p,_,a){function e(c){return s(this,c).get(c)}var s=a(14);p.exports=e},function(p,_,a){function e(c){return s(this,c).has(c)}var s=a(14);p.exports=e},function(p,_,a){function e(c,i){var n=s(this,c),r=n.size;return n.set(c,i),this.size+=n.size==r?0:1,this}var s=a(14);p.exports=e},function(p,_,a){function e(i){var n=s(i,function(t){return r.size===c&&r.clear(),t}),r=n.cache;return n}var s=a(161),c=500;p.exports=e},function(p,_){function a(e){var s=[];if(e!=null)for(var c in Object(e))s.push(c);return s}p.exports=a},function(p,_,a){(function(e){var s=a(38),c=typeof _=="object"&&_&&!_.nodeType&&_,i=c&&typeof e=="object"&&e&&!e.nodeType&&e,n=i&&i.exports===c,r=n&&s.process,t=function(){try{return r&&r.binding&&r.binding("util")}catch{}}();e.exports=t}).call(_,a(29)(p))},function(p,_){function a(c){return s.call(c)}var e=Object.prototype,s=e.toString;p.exports=a},function(p,_){function a(e,s){return function(c){return e(s(c))}}p.exports=a},function(p,_){function a(i){var n=0,r=0;return function(){var t=c(),o=s-(t-r);if(r=t,o>0){if(++n>=e)return arguments[0]}else n=0;return i.apply(void 0,arguments)}}var e=800,s=16,c=Date.now;p.exports=a},function(p,_,a){function e(){this.__data__=new s,this.size=0}var s=a(10);p.exports=e},function(p,_){function a(e){var s=this.__data__,c=s.delete(e);return this.size=s.size,c}p.exports=a},function(p,_){function a(e){return this.__data__.get(e)}p.exports=a},function(p,_){function a(e){return this.__data__.has(e)}p.exports=a},function(p,_,a){function e(r,t){var o=this.__data__;if(o instanceof s){var u=o.__data__;if(!c||u.length<n-1)return u.push([r,t]),this.size=++o.size,this;o=this.__data__=new i(u)}return o.set(r,t),this.size=o.size,this}var s=a(10),c=a(33),i=a(34),n=200;p.exports=e},function(p,_,a){var e=a(143),s=/^\./,c=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,n=e(function(r){var t=[];return s.test(r)&&t.push(""),r.replace(c,function(o,u,f,l){t.push(f?l.replace(i,"$1"):u||o)}),t});p.exports=n},function(p,_){function a(c){if(c!=null){try{return s.call(c)}catch{}try{return c+""}catch{}}return""}var e=Function.prototype,s=e.toString;p.exports=a},function(p,_){function a(e){return function(){return e}}p.exports=a},function(p,_,a){function e(c){return c!=null&&c.length?s(c,1):[]}var s=a(92);p.exports=e},function(p,_,a){function e(i,n){return i!=null&&c(i,n,s)}var s=a(95),c=a(121);p.exports=e},function(p,_,a){function e(i){return c(i)&&s(i)}var s=a(24),c=a(6);p.exports=e},function(p,_,a){function e(l){if(!i(l)||s(l)!=n)return!1;var d=c(l);if(d===null)return!0;var h=u.call(d,"constructor")&&d.constructor;return typeof h=="function"&&h instanceof h&&o.call(h)==f}var s=a(8),c=a(39),i=a(6),n="[object Object]",r=Function.prototype,t=Object.prototype,o=r.toString,u=t.hasOwnProperty,f=o.call(Object);p.exports=e},function(p,_,a){function e(i,n){if(typeof i!="function"||n!=null&&typeof n!="function")throw new TypeError(c);var r=function(){var t=arguments,o=n?n.apply(this,t):t[0],u=r.cache;if(u.has(o))return u.get(o);var f=i.apply(this,t);return r.cache=u.set(o,f)||u,f};return r.cache=new(e.Cache||s),r}var s=a(34),c="Expected a function";e.Cache=s,p.exports=e},function(p,_,a){var e=a(102),s=a(118),c=s(function(i,n){return i==null?{}:e(i,n)});p.exports=c},function(p,_){function a(){return!1}p.exports=a},function(p,_,a){function e(i){return s(i,c(i))}var s=a(114),c=a(46);p.exports=e},function(p,_,a){function e(c){return c==null?"":s(c)}var s=a(108);p.exports=e},function(p,_,a){p.exports=a(48)}])})})(We);const ve=Oe(be),Ge=$("video",{autoplay:"true",width:"100%",height:"100%"},null,-1),Ve=[Ge],He=$("div",{class:"camera-overlay"},null,-1),qe={class:"detected-text"},Xe={__name:"Camera",emits:["foundProduct"],setup(ce,{emit:re}){const ne=ie(null),p=ie("Scanning...");let _=[];const a=window.innerWidth,e=window.innerHeight;we(()=>{ve.init({inputStream:{name:"Live",type:"LiveStream",target:ne.value,constraints:{width:a*2,height:e*2,facingMode:"environment",aspectRatio:{exact:.5625},orientation:"portrait"}},decoder:{readers:["ean_reader","ean_8_reader"],debug:{drawBoundingBox:!0,showFrequency:!0,drawScanline:!0,showPattern:!0}},locate:!0},function(c){if(c){console.log(c);return}console.log("Initialization finished. Ready to start"),ve.start()})}),Re(()=>{ve.onDetected(c=>{console.log(c.codeResult.code),p.value=c.codeResult.code,_.push(c.codeResult.code),s()})});function s(){let c="",i=0;for(let n=0;n<_.length;n++){let r=_[n],t=0;for(let o=0;o<_.length;o++)r==_[o]&&t++;t>i&&(c=r,i=t)}i>=5&&(console.log("Found product: "+c),ve.stop(),re("foundProduct",c))}return(c,i)=>(ue(),fe(Te,null,[$("div",{class:"camera",ref_key:"video",ref:ne},Ve,512),He,$("div",qe,[$("p",null,_e(p.value),1)])],64))}};const $e={key:0,class:"scanner-product"},Ke={class:"product-image"},Ye=["src"],Qe={class:"product-info"},Ze=$("p",{class:"label"},"Holdbarhet",-1),Je={class:"product-amount"},et=$("p",{class:"amount-unit"},"dager",-1),tt=$("p",{class:"label"},"Antall",-1),rt={class:"product-amount"},nt={class:"amount-unit"},ot={key:1},at=$("p",null,"Loading...",-1),it=[at],ut={__name:"ScannerProduct",props:{ean:{type:String,required:!0}},setup(ce){const re=ce,ne=Se(),p=ie(""),_=ie(""),a=ie(""),e=ie(""),s=ie(!0),c=async f=>{let l="stk";try{Me();const d=await je(f);d.data.unit&&(l=d.data.unit),p.value=d.data.ean,_.value=d.data.name,a.value=d.data.url,r.value=d.data.expirationDate,e.value=l,s.value=!1}catch(d){if(d.response.status==404)try{let h=[],v=[];const g=await Le(f);console.log(g),p.value=g.data.data.ean,_.value=g.data.data.products[0].name,a.value=g.data.data.products[0].image,h=g.data.data.allergens,e.value="stk",s.value=!1;for(let x=0;x<h.length;x++)v.push(h[x].display_name),console.log(h[x].display_name);console.log(v);const b={ean:parseInt(p.value),name:_.value,description:_.value,image:a.value,price:g.data.data.products[0].current_price.price,allergies:v};console.log(b);const y=await Ue(b)}catch{he("Kunne ikke finne produktet med ean"),ye()}else he("Kunne ikke laste inn produktet"),ye()}ye()},i=De(()=>({name:_.value,image:a.value,unit:e.value}));console.log(i);const n=ie(1),r=ie(12);we(async()=>{await c(re.ean)});function t(){n.value++}function o(){n.value>1&&n.value--}async function u(){const f={groupId:Pe().getGroupID,ean:re.ean,amount:n.value,days:r.value,allergies:[]};console.log(f);try{const l=await Fe(f);console.log(l),he("La til produkt i kjøleskapet"),ne.push("/list")}catch{he("Kunne ikke legge til produkt i kjøleskapet")}ne.push("/list")}return(f,l)=>s.value?(ue(),fe("div",ot,it)):(ue(),fe("div",$e,[$("div",Ke,[$("img",{src:de(i).image},null,8,Ye)]),$("div",Qe,[$("h1",null,_e(de(i).name),1),$("p",null,_e(re.ean),1)]),Ze,$("div",Je,[$("button",{class:"amount-button",onClick:l[0]||(l[0]=d=>r.value--)},"-"),Ce($("input",{type:"tel",class:"amount-input","onUpdate:modelValue":l[1]||(l[1]=d=>r.value=d),length:"2"},null,512),[[Ee,r.value]]),et,$("button",{class:"amount-button",onClick:l[2]||(l[2]=d=>r.value++)},"+")]),tt,$("div",rt,[$("button",{class:"amount-button",onClick:o},"-"),Ce($("input",{type:"tel",class:"amount-input","onUpdate:modelValue":l[3]||(l[3]=d=>n.value=d),length:"2"},null,512),[[Ee,n.value]]),$("p",nt,_e(de(i).unit),1),$("button",{class:"amount-button",onClick:t},"+")]),$("div",{class:"product-buttons"},[$("button",{class:"product-button",onClick:u},"Legg til i kjøleskapet")])]))}};const ct={class:"scanner"},st={__name:"Scanner",setup(ce){const re=ie(0);function ne(p){re.value=p}return(p,_)=>{const a=ze("router-link");return ue(),fe("div",ct,[xe(a,{to:"/",class:"back-button"},{default:Ne(()=>[xe(de(Ie),{icon:de(ke)},null,8,["icon"])]),_:1}),re.value==0?(ue(),me(Xe,{key:0,onFoundProduct:_[0]||(_[0]=e=>ne(e))})):pe("",!0),re.value==0?(ue(),fe("button",{key:1,class:"manual-button",onClick:_[1]||(_[1]=e=>re.value=-1)}," Velg produkt ")):pe("",!0),re.value==-1?(ue(),me(Be,{key:2,onFoundProduct:_[2]||(_[2]=e=>ne(e))})):pe("",!0),re.value>0?(ue(),me(ut,{key:3,ean:re.value},null,8,["ean"])):pe("",!0)])}}},dt={__name:"ScannerView",setup(ce){return(re,ne)=>(ue(),fe("main",null,[xe(st)]))}};export{dt as default};
