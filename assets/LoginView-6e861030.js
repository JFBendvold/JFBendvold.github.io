import{u as y,a as x,r as p,o as v,c as g,b as e,w as V,d as c,v as _,e as u,f as m,g as L,h as S,i as f,t as s}from"./index-689421b9.js";/* empty css              */const B={class:"login"},N={class:"login-container"},U=e("h1",null,"Login",-1),E=["onSubmit"],G=e("label",{for:"username"},"Brukernavn",-1),P=e("label",{for:"password"},"Passord",-1),C=e("button",{type:"submit"},"Login",-1),I={class:"links"},M={__name:"Login",setup(h){const o=y(),i=L(),w=x(),t=p(null),r=p(null);async function k(){if(b())try{await o.verifyLogin(t.value,r.value),o.loggedIn?(s("Logget inn bruker: "+t.value),i.push("/"),await w.setUserGroup(o.username)):s("Et problem skjedde under login, vennligst prøv på nytt")}catch(a){a.response.status==401?s("Feil brukernavn eller passord"):s(a)}}function b(){return t.value==null||r.value==null?(s("Vennligst fyll ut alle feltene"),!1):!0}return(a,n)=>{const d=S("router-link");return v(),g("div",B,[e("div",N,[U,e("form",{onSubmit:V(k,["prevent"])},[G,c(e("input",{type:"text",id:"username",name:"username",placeholder:"Brukernavn","onUpdate:modelValue":n[0]||(n[0]=l=>t.value=l)},null,512),[[_,t.value]]),P,c(e("input",{type:"password",id:"password",name:"password",placeholder:"Passord","onUpdate:modelValue":n[1]||(n[1]=l=>r.value=l)},null,512),[[_,r.value]]),C],40,E),e("div",I,[u(d,{to:"/register"},{default:m(()=>[f("Ny bruker?")]),_:1}),u(d,{to:"/forgot-password"},{default:m(()=>[f("Glemt passord?")]),_:1})])])])}}},D={__name:"LoginView",setup(h){return(o,i)=>(v(),g("main",null,[u(M)]))}};export{D as default};
